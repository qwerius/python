<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx | blueink</title>
    <meta name="description" content="DevImpact">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.u2xYnsLT.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.ChL_-snp.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.0qjqtG1H.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DNBSSkcL.js">
    <link rel="modulepreload" href="/assets/nginx_index.md.B6TJ48rr.lean.js">
    <link rel="icon" href="/logo.png">
    <title>blueink</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>blueink</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/dasar_python/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Content</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/basic_machine_learning/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Basic Machine Learning</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>nginx</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/nginx/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Vue Introduction</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _nginx_" data-v-39a288b8><div><h1 id="nginx" class="page-title" tabindex="-1">Nginx <a class="header-anchor" href="#nginx" aria-label="Permalink to &quot;Nginx {#nginx .page-title}&quot;">​</a></h1><hr><p>Created @December 11, 2024 1:13 AM Created by <img src="https://lh3.googleusercontent.com/a/AGNmyxb0HhE8djDvnqm1NoPJCOgFfq3hrLZ7W11UfXVpVMw=s100" alt=""> Thank to <a href="https://gravatar.com/werisuweri" target="_blank" rel="noreferrer">Gravita Hat | Gravatar</a> sub Server HTTP dan Reverse Proxy Open Source</p><div class="page-body"><h2 id="15809095-dc41-80ac-9d90-ccb5abc3cb9a" tabindex="-1">Pendahuluan <a class="header-anchor" href="#15809095-dc41-80ac-9d90-ccb5abc3cb9a" aria-label="Permalink to &quot;Pendahuluan {#15809095-dc41-80ac-9d90-ccb5abc3cb9a}&quot;">​</a></h2><p>Nginx (diucapkan &quot;engine-x&quot;) adalah server web yang sangat populer dan juga berfungsi sebagai reverse proxy, load balancer, dan HTTP cache. Berikut adalah ringkasan sejarah Nginx:</p><h3 id="15d09095-dc41-8075-9022-da23fba26f22" tabindex="-1"><strong>1. Awal Mula (2002)</strong> <a class="header-anchor" href="#15d09095-dc41-8075-9022-da23fba26f22" aria-label="Permalink to &quot;**1. Awal Mula (2002)** {#15d09095-dc41-8075-9022-da23fba26f22}&quot;">​</a></h3><p>Nginx dikembangkan oleh Igor Sysoev, seorang insinyur perangkat lunak asal Rusia, pada tahun 2002. Sysoev mulai mengembangkan Nginx untuk mengatasi masalah yang dihadapi oleh server web yang ada pada saat itu, terutama dalam hal menangani banyak koneksi secara bersamaan. Dia ingin menciptakan server yang dapat menangani ribuan koneksi secara efisien, terutama untuk situs web dengan lalu lintas tinggi.</p><h3 id="15d09095-dc41-80ff-93ed-c29d2adb224e" tabindex="-1"><strong>2. Rilis Pertama (2004)</strong> <a class="header-anchor" href="#15d09095-dc41-80ff-93ed-c29d2adb224e" aria-label="Permalink to &quot;**2. Rilis Pertama (2004)** {#15d09095-dc41-80ff-93ed-c29d2adb224e}&quot;">​</a></h3><p>Versi pertama Nginx dirilis pada tahun 2004. Sejak saat itu, Nginx mulai mendapatkan perhatian dari komunitas pengembang dan administrator sistem karena kemampuannya untuk menangani beban tinggi dengan penggunaan sumber daya yang rendah.</p><h3 id="15d09095-dc41-8062-8764-f45f1c38640c" tabindex="-1"><strong>3. Popularitas Meningkat (2000-an)</strong> <a class="header-anchor" href="#15d09095-dc41-8062-8764-f45f1c38640c" aria-label="Permalink to &quot;**3. Popularitas Meningkat (2000-an)** {#15d09095-dc41-8062-8764-f45f1c38640c}&quot;">​</a></h3><p>Selama pertengahan hingga akhir 2000-an, Nginx mulai digunakan oleh banyak situs web besar, termasuk WordPress.com, Netflix, dan GitHub. Keunggulan Nginx dalam hal performa dan skalabilitas membuatnya menjadi pilihan populer di kalangan penyedia layanan hosting dan perusahaan teknologi.</p><h3 id="15d09095-dc41-808c-95b2-f70a4189afd9" tabindex="-1"><strong>4. Rilis Versi Stabil (2011)</strong> <a class="header-anchor" href="#15d09095-dc41-808c-95b2-f70a4189afd9" aria-label="Permalink to &quot;**4. Rilis Versi Stabil (2011)** {#15d09095-dc41-808c-95b2-f70a4189afd9}&quot;">​</a></h3><p>Pada tahun 2011, Nginx mencapai tonggak penting dengan rilis versi stabil 1.0.0. Versi ini membawa banyak fitur baru dan perbaikan, serta meningkatkan stabilitas dan keamanan.</p><h3 id="15d09095-dc41-8010-825e-fdeea738e004" tabindex="-1"><strong>5. Nginx, Inc. (2011)</strong> <a class="header-anchor" href="#15d09095-dc41-8010-825e-fdeea738e004" aria-label="Permalink to &quot;**5. Nginx, Inc. (2011)** {#15d09095-dc41-8010-825e-fdeea738e004}&quot;">​</a></h3><p>Igor Sysoev mendirikan Nginx, Inc. pada tahun 2011 untuk mendukung pengembangan dan distribusi Nginx. Perusahaan ini juga mulai menawarkan layanan dukungan komersial dan produk tambahan, seperti Nginx Plus, yang merupakan versi komersial dari Nginx dengan fitur tambahan seperti manajemen dan pemantauan.</p><h3 id="15d09095-dc41-807f-9571-f393444a872b" tabindex="-1"><strong>6. Pertumbuhan dan Adopsi (2010-an)</strong> <a class="header-anchor" href="#15d09095-dc41-807f-9571-f393444a872b" aria-label="Permalink to &quot;**6. Pertumbuhan dan Adopsi (2010-an)** {#15d09095-dc41-807f-9571-f393444a872b}&quot;">​</a></h3><p>Nginx terus tumbuh dalam popularitas dan menjadi salah satu server web paling banyak digunakan di dunia. Pada tahun 2019, Nginx dilaporkan digunakan oleh lebih dari 30% situs web di seluruh dunia, menjadikannya salah satu server web terpopuler, bersaing dengan Apache.</p><h3 id="15d09095-dc41-804d-880e-e73cf7df9e65" tabindex="-1"><strong>7. Akuisisi oleh F5 Networks (2019)</strong> <a class="header-anchor" href="#15d09095-dc41-804d-880e-e73cf7df9e65" aria-label="Permalink to &quot;**7. Akuisisi oleh F5 Networks (2019)** {#15d09095-dc41-804d-880e-e73cf7df9e65}&quot;">​</a></h3><p>Pada tahun 2019, F5 Networks mengakuisisi Nginx, Inc. Akuisisi ini bertujuan untuk memperluas portofolio F5 dalam hal solusi aplikasi dan keamanan.</p><h3 id="15d09095-dc41-80f3-8142-cdcb50cc095c" tabindex="-1"><strong>8. Fokus pada Cloud dan Microservices (2020-an)</strong> <a class="header-anchor" href="#15d09095-dc41-80f3-8142-cdcb50cc095c" aria-label="Permalink to &quot;**8. Fokus pada Cloud dan Microservices (2020-an)** {#15d09095-dc41-80f3-8142-cdcb50cc095c}&quot;">​</a></h3><p>Dengan meningkatnya adopsi arsitektur microservices dan cloud-native, Nginx terus beradaptasi dengan menambahkan fitur-fitur baru yang mendukung pengembangan aplikasi modern, termasuk dukungan untuk Kubernetes dan layanan berbasis kontainer.</p><p>Berikut adalah penjelasan lengkap untuk <strong>Pendahuluan Nginx</strong>, termasuk teori dan langkah praktis disertai kode.</p><h2 id="15809095-dc41-804a-88f8-f95236648afa" tabindex="-1"><strong>Apa itu Nginx?</strong> <a class="header-anchor" href="#15809095-dc41-804a-88f8-f95236648afa" aria-label="Permalink to &quot;**Apa itu Nginx?** {#15809095-dc41-804a-88f8-f95236648afa}&quot;">​</a></h2><p>Nginx adalah server HTTP dan reverse proxy open-source yang sangat populer, dirancang untuk menangani koneksi secara asinkron dan efisien. Dengan kemampuannya yang unggul dalam mengelola banyak koneksi secara bersamaan, Nginx sering digunakan sebagai server web untuk melayani file statis atau aplikasi web, memberikan performa tinggi dan respons yang cepat. Selain itu, Nginx berfungsi sebagai reverse proxy, yang berarti dapat meneruskan permintaan dari klien ke backend seperti aplikasi Node.js, Django, atau PHP, sehingga memudahkan pengelolaan dan pengembangan aplikasi. Nginx juga berperan sebagai load balancer, membagi lalu lintas ke beberapa server backend untuk meningkatkan skalabilitas dan keandalan sistem, menjadikannya pilihan utama bagi banyak perusahaan dan pengembang dalam membangun infrastruktur web yang efisien dan handal.</p><p>Nginx adalah server HTTP dan reverse proxy open-source yang sangat populer. Dibuat untuk menangani koneksi secara asinkron dan efisien, Nginx digunakan sebagai:</p><ul><li><strong>Server web:</strong> Melayani file statis atau aplikasi web.</li></ul><ul><li><strong>Reverse proxy:</strong> Meneruskan permintaan ke backend seperti aplikasi Node.js, Django, atau PHP.</li></ul><ul><li><strong>Load balancer:</strong> Membagi lalu lintas ke beberapa server backend untuk skalabilitas.</li></ul><hr><h2 id="15809095-dc41-80b7-af0b-fbbdee6c1c57" tabindex="-1"><strong>Perbedaan antara Nginx dan Apache</strong> <a class="header-anchor" href="#15809095-dc41-80b7-af0b-fbbdee6c1c57" aria-label="Permalink to &quot;**Perbedaan antara Nginx dan Apache** {#15809095-dc41-80b7-af0b-fbbdee6c1c57}&quot;">​</a></h2><p>Berikut adalah tabel yang membandingkan perbedaan antara Nginx dan Apache berdasarkan fitur-fitur yang disebutkan:</p><table tabindex="0"><thead><tr><th><strong>Fitur</strong></th><th><strong>Nginx</strong></th><th><strong>Apache</strong></th></tr></thead><tbody><tr><td><strong>Arsitektur</strong></td><td>Event-driven, asinkron</td><td>Process/thread-based</td></tr><tr><td><strong>Kinerja untuk file statis</strong></td><td>Sangat cepat</td><td>Relatif lebih lambat</td></tr><tr><td><strong>Modul</strong></td><td>Modul statis atau dinamis</td><td>Modul dinamis</td></tr><tr><td><strong>Konfigurasi</strong></td><td>Berbasis blok (<code>server</code>, dll.)</td><td>Berbasis direktori (<code>.htaccess</code>)</td></tr><tr><td><strong>Konsumsi resource</strong></td><td>Lebih hemat memori</td><td>Lebih banyak memori</td></tr></tbody></table><p>Tabel ini memberikan gambaran yang jelas mengenai perbedaan utama antara Nginx dan Apache berdasarkan berbagai fitur penting, seperti arsitektur, kinerja, dan penggunaan sumber daya.</p><h2 id="15809095-dc41-804e-8ee9-ee1983d0d0c4" tabindex="-1"><strong>Kegunaan Utama Nginx</strong> <a class="header-anchor" href="#15809095-dc41-804e-8ee9-ee1983d0d0c4" aria-label="Permalink to &quot;**Kegunaan Utama Nginx** {#15809095-dc41-804e-8ee9-ee1983d0d0c4}&quot;">​</a></h2><ol><li><strong>Server Web:</strong> Hosting file statis atau dinamis. Nginx dapat berfungsi sebagai server web, yang berarti ia dapat menyimpan dan mengirimkan file-file seperti gambar, halaman HTML, dan file lainnya ke pengguna yang mengakses situs web. Ini seperti toko yang menyimpan barang dan memberikan barang tersebut kepada pelanggan yang datang.</li></ol><ol start="2"><li><strong>Reverse Proxy:</strong> Meneruskan permintaan ke aplikasi backend. Nginx juga bisa bertindak sebagai &quot;perantara&quot; antara pengguna dan aplikasi yang lebih kompleks. Ketika seseorang mengakses situs web, Nginx menerima permintaan tersebut dan meneruskannya ke aplikasi backend (seperti server yang menjalankan logika bisnis). Ini membantu mengelola lalu lintas dan meningkatkan keamanan.</li></ol><ol start="3"><li><p><strong>Load Balancer:</strong> Mendukung metode round-robin, least connections, dll.<br> Nginx dapat membagi beban kerja di antara beberapa server. Misalnya, jika ada banyak pengunjung ke situs web, Nginx dapat mendistribusikan permintaan ke beberapa server agar tidak ada satu server pun yang terlalu terbebani. Ini seperti membagi tugas di antara beberapa karyawan di sebuah toko agar semua pelanggan dilayani dengan cepat.</p></li><li><p><strong>Caching:</strong> Menyimpan konten untuk meningkatkan kecepatan. Nginx dapat menyimpan salinan konten yang sering diakses, sehingga ketika pengguna meminta konten yang sama lagi, Nginx dapat memberikannya lebih cepat tanpa harus mengambilnya dari server lain. Ini seperti menyimpan barang-barang yang sering dibeli di depan toko agar pelanggan bisa mendapatkannya dengan cepat.</p></li></ol><ol start="5"><li><strong>HTTPS:</strong> Mendukung TLS/SSL untuk komunikasi aman. Nginx mendukung protokol HTTPS, yang membuat komunikasi antara pengguna dan situs web menjadi lebih aman. Dengan menggunakan TLS/SSL, data yang dikirimkan akan dienkripsi, sehingga tidak bisa dibaca oleh pihak yang tidak berwenang. Ini seperti mengunci pintu toko agar hanya pelanggan yang berhak yang bisa masuk.</li></ol><h2 id="15809095-dc41-8053-9572-dec924c7a06e" tabindex="-1"><strong>Instalasi Nginx</strong> <a class="header-anchor" href="#15809095-dc41-8053-9572-dec924c7a06e" aria-label="Permalink to &quot;**Instalasi Nginx** {#15809095-dc41-8053-9572-dec924c7a06e}&quot;">​</a></h2><h3 id="15809095-dc41-8085-a575-cd265e93600c" tabindex="-1"><strong>1. Instalasi Nginx di Ubuntu</strong> <a class="header-anchor" href="#15809095-dc41-8085-a575-cd265e93600c" aria-label="Permalink to &quot;**1. Instalasi Nginx di Ubuntu** {#15809095-dc41-8085-a575-cd265e93600c}&quot;">​</a></h3><ol><li><p><strong>Update sistem:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt update &amp;&amp; sudo apt upgrade -y</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Instal Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt install nginx -y</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Mulai dan aktifkan layanan Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl start nginx</span></span>
<span class="line"><span>sudo systemctl enable nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Cek status Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl status nginx</span></span></code></pre></div></li></ol><h3 id="15809095-dc41-8040-96b2-d3e087969219" tabindex="-1"><strong>2. Instalasi Nginx di CentOS</strong> <a class="header-anchor" href="#15809095-dc41-8040-96b2-d3e087969219" aria-label="Permalink to &quot;**2. Instalasi Nginx di CentOS** {#15809095-dc41-8040-96b2-d3e087969219}&quot;">​</a></h3><ol><li><p><strong>Update sistem:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo yum update -y</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Instal Nginx (dari repositori EPEL):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo yum install epel-release -y</span></span>
<span class="line"><span>sudo yum install nginx -y</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Mulai dan aktifkan layanan Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl start nginx</span></span>
<span class="line"><span>sudo systemctl enable nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Cek status Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl status nginx</span></span></code></pre></div></li></ol><h3 id="15809095-dc41-80dc-ae82-f92b12872adc" tabindex="-1"><strong>3. Instalasi Nginx di Windows WSL</strong> <a class="header-anchor" href="#15809095-dc41-80dc-ae82-f92b12872adc" aria-label="Permalink to &quot;**3. Instalasi Nginx di Windows WSL** {#15809095-dc41-80dc-ae82-f92b12872adc}&quot;">​</a></h3><ol><li><p><strong>Pastikan Anda memiliki WSL dan Ubuntu terinstal di Windows.</strong><br> Jalankan WSL, lalu:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt update &amp;&amp; sudo apt upgrade -y</span></span>
<span class="line"><span>sudo apt install nginx -y</span></span>
<span class="line"><span>sudo service nginx start</span></span></code></pre></div></li></ol><ol start="2"><li><strong>Akses Nginx melalui browser:</strong><ul><li>Gunakan URL <code>http://localhost</code>.</li></ul></li></ol><hr><h3 id="15d09095-dc41-80d0-82f0-f77348cf7a21" tabindex="-1">4. Instalasi Nginx di Docker <a class="header-anchor" href="#15d09095-dc41-80d0-82f0-f77348cf7a21" aria-label="Permalink to &quot;4. Instalasi Nginx di Docker {#15d09095-dc41-80d0-82f0-f77348cf7a21}&quot;">​</a></h3><p>Untuk menginstal Nginx menggunakan Docker, Anda dapat mengikuti langkah-langkah umum berikut:</p><ol><li><strong>Pastikan Docker Terinstal</strong>: Pastikan Docker sudah terpasang di sistem Anda. Anda dapat memeriksa dengan menjalankan perintah <code>docker --version</code>.</li></ol><ol start="2"><li><p>* Tarik Gambar Nginx**: Unduh gambar Nginx dari Docker Hub dengan perintah berikut:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker pull nginx:stable-alpine</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Jalankan Kontainer Nginx</strong>: Setelah gambar berhasil diunduh, jalankan kontainer Nginx dengan perintah:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker run --name docker-nginx -p 80:80 nginx:stable-alpine</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Periksa Kontainer yang Berjalan</strong>: Pastikan kontainer Nginx berjalan dengan perintah:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker ps</span></span></code></pre></div></li></ol><ol start="5"><li><strong>Akses Nginx</strong>: Buka browser dan akses <code>http://localhost</code>. Anda seharusnya melihat halaman default Nginx.</li></ol><ol start="6"><li><strong>Pengaturan Tambahan (Opsional)</strong>: Jika Anda ingin menambahkan pengaturan khusus, Anda bisa membuat file konfigurasi dan mengaitkannya dengan kontainer saat menjalankannya.</li></ol><h3 id="15809095-dc41-801c-8f8f-dfee96bf7ea9" tabindex="-1"><strong>Memverifikasi Instalasi</strong> <a class="header-anchor" href="#15809095-dc41-801c-8f8f-dfee96bf7ea9" aria-label="Permalink to &quot;**Memverifikasi Instalasi** {#15809095-dc41-801c-8f8f-dfee96bf7ea9}&quot;">​</a></h3><ol><li><p><strong>Cek versi Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nginx -v</span></span></code></pre></div><p>Output:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nginx version: nginx/1.x.x</span></span></code></pre></div></li></ol><ol start="2"><li><strong>Akses halaman default Nginx:</strong><ul><li>Buka browser dan akses <code>http://&lt;IP_SERVER&gt;</code> atau <code>http://localhost</code>.</li></ul></li></ol><ol start="3"><li><p><strong>Tes konfigurasi:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span></code></pre></div><p>Output:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span></span>
<span class="line"><span>nginx: configuration file /etc/nginx/nginx.conf test is successful</span></span></code></pre></div></li></ol><hr><h2 id="15809095-dc41-8016-9752-f9ae6b3bfc61" tabindex="-1"><strong>Struktur Direktori Utama Nginx</strong> <a class="header-anchor" href="#15809095-dc41-8016-9752-f9ae6b3bfc61" aria-label="Permalink to &quot;**Struktur Direktori Utama Nginx** {#15809095-dc41-8016-9752-f9ae6b3bfc61}&quot;">​</a></h2><ul><li><p><code>/etc/nginx/</code><strong>:</strong> Direktori konfigurasi utama.</p><ul><li><code>nginx.conf</code><strong>:</strong> File konfigurasi utama.</li></ul><ul><li><code>sites-available/</code><strong>:</strong> Konfigurasi server blok (opsional di beberapa distro).</li></ul><ul><li><code>sites-enabled/</code><strong>:</strong> Simbolik link ke file di <code>sites-available/</code>.</li></ul></li></ul><ul><li><code>/var/www/html/</code><strong>:</strong> Direktori untuk file web default.</li></ul><ul><li><code>/var/log/nginx/</code><strong>:</strong> Log akses dan error.</li></ul><p>Contoh tampilan <strong>nginx.conf</strong> default:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>user www-data;</span></span>
<span class="line"><span>worker_processes auto;</span></span>
<span class="line"><span>pid /run/nginx.pid;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>events {</span></span>
<span class="line"><span>    worker_connections 768;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>http {</span></span>
<span class="line"><span>    server {</span></span>
<span class="line"><span>        listen 80;</span></span>
<span class="line"><span>        server_name localhost;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        root /var/www/html;</span></span>
<span class="line"><span>        index index.html;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>            try_files $uri $uri/ =404;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Jika instalasi berhasil, halaman default Nginx akan terlihat di browser:</p><p><strong>&quot;Welcome to nginx!&quot;</strong></p><h2 id="15809095-dc41-808e-9f83-ef31910cd2f4" tabindex="-1">Struktur File Konfigurasi <a class="header-anchor" href="#15809095-dc41-808e-9f83-ef31910cd2f4" aria-label="Permalink to &quot;Struktur File Konfigurasi {#15809095-dc41-808e-9f83-ef31910cd2f4}&quot;">​</a></h2><ol><li><p><strong>File Utama (</strong><code>nginx.conf</code><strong>):</strong></p><ul><li>Lokasi: <code>/etc/nginx/nginx.conf</code>.</li></ul><ul><li>File ini adalah file konfigurasi utama yang digunakan Nginx saat dijalankan.</li></ul><ul><li><p>Terdiri dari beberapa blok utama:</p><ul><li><code>events</code><strong>:</strong> Mengatur koneksi.</li></ul><ul><li><code>http</code><strong>:</strong> Konfigurasi HTTP (server, caching, dll).</li></ul><ul><li><code>server</code><strong>:</strong> Konfigurasi server individu.</li></ul><ul><li><code>location</code><strong>:</strong> Menangani URL tertentu pada server.</li></ul></li></ul></li></ol><ol start="2"><li><p><strong>Direktori Konfigurasi Tambahan:</strong></p><ul><li><p><code>/etc/nginx/sites-available/</code><strong>:</strong></p><ul><li>Tempat untuk menyimpan konfigurasi server blok.</li></ul><ul><li>Tidak otomatis aktif, perlu di-link ke <code>sites-enabled</code>.</li></ul></li></ul><ul><li><code>/etc/nginx/sites-enabled/</code><strong>:</strong><ul><li>Berisi symbolic link dari file di <code>sites-available</code>.</li></ul></li></ul><ul><li><code>/etc/nginx/conf.d/</code><strong>:</strong><ul><li>Direktori tambahan untuk file konfigurasi modul spesifik.</li></ul></li></ul></li></ol><h3 id="15809095-dc41-80c3-bf35-d9388b60e422" tabindex="-1"><strong>Contoh Struktur Konfigurasi Default:</strong> <a class="header-anchor" href="#15809095-dc41-80c3-bf35-d9388b60e422" aria-label="Permalink to &quot;**Contoh Struktur Konfigurasi Default:** {#15809095-dc41-80c3-bf35-d9388b60e422}&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/etc/nginx/</span></span>
<span class="line"><span>├── nginx.conf</span></span>
<span class="line"><span>├── conf.d/</span></span>
<span class="line"><span>│   └── default.conf</span></span>
<span class="line"><span>├── sites-available/</span></span>
<span class="line"><span>│   └── example.com</span></span>
<span class="line"><span>├── sites-enabled/</span></span>
<span class="line"><span>│   └── example.com -&gt; ../sites-available/example.com</span></span>
<span class="line"><span>├── logs/</span></span>
<span class="line"><span>│   ├── access.log</span></span>
<span class="line"><span>│   └── error.log</span></span></code></pre></div><h2 id="blok-http" tabindex="-1"><strong>Blok</strong> <code>http</code><strong>:</strong> <a class="header-anchor" href="#blok-http" aria-label="Permalink to &quot;**Blok** `http`**:**&quot;">​</a></h2><pre><code>Digunakan untuk konfigurasi HTTP global.\
</code></pre><div class="indented"><p>Contoh:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http {</span></span>
<span class="line"><span>    include /etc/nginx/mime.types;</span></span>
<span class="line"><span>    default_type application/octet-stream;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    server {</span></span>
<span class="line"><span>        listen 80;</span></span>
<span class="line"><span>        server_name localhost;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></div><p>Blok <code>http</code> adalah bagian penting dari konfigurasi Nginx yang mengatur pengaturan untuk server HTTP. Berikut adalah beberapa direktif yang umum digunakan dalam blok <code>http</code>, beserta penjelasan dan contoh penggunaannya:</p><h3 id="15d09095-dc41-8055-bd76-c431415f4f4a" tabindex="-1"><strong>1. include</strong> <a class="header-anchor" href="#15d09095-dc41-8055-bd76-c431415f4f4a" aria-label="Permalink to &quot;**1. include** {#15d09095-dc41-8055-bd76-c431415f4f4a}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengizinkan Anda untuk menyertakan file konfigurasi lain.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>include /etc/nginx/conf.d/*.conf;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-801b-9ee0-c43de4cababf" tabindex="-1"><strong>2. default_type</strong> <a class="header-anchor" href="#15d09095-dc41-801b-9ee0-c43de4cababf" aria-label="Permalink to &quot;**2. default\_type** {#15d09095-dc41-801b-9ee0-c43de4cababf}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Menentukan tipe MIME default untuk file yang tidak memiliki tipe yang ditentukan.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>default_type application/octet-stream;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80a5-b31a-f9b24f1cab75" tabindex="-1"><strong>3. log_format</strong> <a class="header-anchor" href="#15d09095-dc41-80a5-b31a-f9b24f1cab75" aria-label="Permalink to &quot;**3. log\_format** {#15d09095-dc41-80a5-b31a-f9b24f1cab75}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Menentukan format log untuk akses.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>log_format main &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span></span>
<span class="line"><span>&#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>
<span class="line"><span>&#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80fd-bdfc-d3839613905f" tabindex="-1"><strong>4. access_log dan error_log</strong> <a class="header-anchor" href="#15d09095-dc41-80fd-bdfc-d3839613905f" aria-label="Permalink to &quot;**4. access\_log dan error\_log** {#15d09095-dc41-80fd-bdfc-d3839613905f}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Menentukan lokasi file log untuk akses dan kesalahan.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>access_log /var/log/nginx/access.log main;</span></span>
<span class="line"><span>error_log /var/log/nginx/error.log warn;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-8078-b912-dc0ca4731f75" tabindex="-1"><strong>5. sendfile</strong> <a class="header-anchor" href="#15d09095-dc41-8078-b912-dc0ca4731f75" aria-label="Permalink to &quot;**5. sendfile** {#15d09095-dc41-8078-b912-dc0ca4731f75}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengaktifkan penggunaan <code>sendfile()</code> untuk mengirim file.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sendfile on;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80cb-b065-fea3c5125e2e" tabindex="-1"><strong>6. tcp_nopush dan tcp_nodelay</strong> <a class="header-anchor" href="#15d09095-dc41-80cb-b065-fea3c5125e2e" aria-label="Permalink to &quot;**6. tcp\_nopush dan tcp\_nodelay** {#15d09095-dc41-80cb-b065-fea3c5125e2e}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengatur pengaturan TCP untuk meningkatkan kinerja.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tcp_nopush on;</span></span>
<span class="line"><span>tcp_nodelay on;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80ef-bfad-d5e4eeacd033" tabindex="-1"><strong>7. keepalive_timeout</strong> <a class="header-anchor" href="#15d09095-dc41-80ef-bfad-d5e4eeacd033" aria-label="Permalink to &quot;**7. keepalive\_timeout** {#15d09095-dc41-80ef-bfad-d5e4eeacd033}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengatur waktu tunggu untuk koneksi keep-alive.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>keepalive_timeout 65;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-8032-a452-f062ddfe98b7" tabindex="-1"><strong>8. gzip</strong> <a class="header-anchor" href="#15d09095-dc41-8032-a452-f062ddfe98b7" aria-label="Permalink to &quot;**8. gzip** {#15d09095-dc41-8032-a452-f062ddfe98b7}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengaktifkan kompresi gzip untuk mengurangi ukuran respons.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gzip on;</span></span>
<span class="line"><span>gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-8007-b9d2-df4542eef8f2" tabindex="-1"><strong>9. client_max_body_size</strong> <a class="header-anchor" href="#15d09095-dc41-8007-b9d2-df4542eef8f2" aria-label="Permalink to &quot;**9. client\_max\_body\_size** {#15d09095-dc41-8007-b9d2-df4542eef8f2}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengatur ukuran maksimum untuk tubuh permintaan dari klien.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>client_max_body_size 10M;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80a7-b75a-c2a6ae2c18df" tabindex="-1"><strong>10. server</strong> <a class="header-anchor" href="#15d09095-dc41-80a7-b75a-c2a6ae2c18df" aria-label="Permalink to &quot;**10. server** {#15d09095-dc41-80a7-b75a-c2a6ae2c18df}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Blok <code>server</code> digunakan untuk mendefinisikan server virtual.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com www.example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        root /var/www/html;</span></span>
<span class="line"><span>        index index.html index.htm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-805e-80e3-d7612f2a564f" tabindex="-1"><strong>11. location</strong> <a class="header-anchor" href="#15d09095-dc41-805e-80e3-d7612f2a564f" aria-label="Permalink to &quot;**11. location** {#15d09095-dc41-805e-80e3-d7612f2a564f}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Blok <code>location</code> digunakan untuk menentukan bagaimana Nginx menangani permintaan untuk URL tertentu.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location /images/ {</span></span>
<span class="line"><span>    root /var/www/html;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80f7-ba9e-dc0d6bbe11ed" tabindex="-1"><strong>12. proxy_pass</strong> <a class="header-anchor" href="#15d09095-dc41-80f7-ba9e-dc0d6bbe11ed" aria-label="Permalink to &quot;**12. proxy\_pass** {#15d09095-dc41-80f7-ba9e-dc0d6bbe11ed}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Digunakan untuk meneruskan permintaan ke server backend (misalnya, aplikasi web).</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location /api/ {</span></span>
<span class="line"><span>    proxy_pass http://localhost:3000;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80bb-a177-dcb9fdc059ec" tabindex="-1"><strong>13. error_page</strong> <a class="header-anchor" href="#15d09095-dc41-80bb-a177-dcb9fdc059ec" aria-label="Permalink to &quot;**13. error\_page** {#15d09095-dc41-80bb-a177-dcb9fdc059ec}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Menentukan halaman yang akan ditampilkan untuk kode status HTTP tertentu.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>error_page 404 /404.html;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-809f-a882-e9fbe43c8f67" tabindex="-1"><strong>14. ssl</strong> <a class="header-anchor" href="#15d09095-dc41-809f-a882-e9fbe43c8f67" aria-label="Permalink to &quot;**14. ssl** {#15d09095-dc41-809f-a882-e9fbe43c8f67}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengatur pengaturan SSL untuk HTTPS.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 443 ssl;</span></span>
<span class="line"><span>    ssl_certificate /etc/ssl/certs/example.com.crt;</span></span>
<span class="line"><span>    ssl_certificate_key /etc/ssl/private/example.com.key;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80fb-8fc1-f4c0663dcb6c" tabindex="-1"><strong>15. limit_req</strong> <a class="header-anchor" href="#15d09095-dc41-80fb-8fc1-f4c0663dcb6c" aria-label="Permalink to &quot;**15. limit\_req** {#15d09095-dc41-80fb-8fc1-f4c0663dcb6c}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengatur pembatasan laju permintaan untuk mencegah serangan DDoS.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>limit_req_zone $binary_remote_addr zone=one:10m rate=1r/s;</span></span>
<span class="line"><span>location / {</span></span>
<span class="line"><span>    limit_req zone=one burst=5;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80f1-b803-d29548c2487d" tabindex="-1"><strong>16 . add_header</strong> <a class="header-anchor" href="#15d09095-dc41-80f1-b803-d29548c2487d" aria-label="Permalink to &quot;**16 . add\_header** {#15d09095-dc41-80f1-b803-d29548c2487d}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Menambahkan header HTTP ke respons.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>add_header X-Content-Type-Options nosniff;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-8028-9222-c13b2dd0a76f" tabindex="-1"><strong>17. try_files</strong> <a class="header-anchor" href="#15d09095-dc41-8028-9222-c13b2dd0a76f" aria-label="Permalink to &quot;**17. try\_files** {#15d09095-dc41-8028-9222-c13b2dd0a76f}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mencoba untuk melayani file tertentu sebelum meneruskan permintaan ke lokasi lain.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location / {</span></span>
<span class="line"><span>    try_files $uri $uri/ /index.php?$query_string;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-8052-8df6-f3d6fce9fd6b" tabindex="-1"><strong>18. rewrite</strong> <a class="header-anchor" href="#15d09095-dc41-8052-8df6-f3d6fce9fd6b" aria-label="Permalink to &quot;**18. rewrite** {#15d09095-dc41-8052-8df6-f3d6fce9fd6b}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengubah URL permintaan menggunakan ekspresi reguler.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>rewrite ^/oldpath/(.*)$ /newpath/$1 permanent;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80db-a06a-d3815665c368" tabindex="-1"><strong>19. set</strong> <a class="header-anchor" href="#15d09095-dc41-80db-a06a-d3815665c368" aria-label="Permalink to &quot;**19. set** {#15d09095-dc41-80db-a06a-d3815665c368}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengatur variabel untuk digunakan dalam konfigurasi.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>set $my_var &quot;value&quot;;</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-8077-b63d-e502e7a94067" tabindex="-1"><strong>20. return</strong> <a class="header-anchor" href="#15d09095-dc41-8077-b63d-e502e7a94067" aria-label="Permalink to &quot;**20. return** {#15d09095-dc41-8077-b63d-e502e7a94067}&quot;">​</a></h3><ul><li><strong>Deskripsi</strong>: Mengembalikan kode status HTTP dan/atau konten.</li></ul><ul><li><p><strong>Contoh</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location /oldpage {</span></span>
<span class="line"><span>    return 301 /newpage;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15d09095-dc41-80df-96cf-e90f225288c0" tabindex="-1"><strong>Contoh Blok <strong><code>http</code></strong> Lengkap</strong> <a class="header-anchor" href="#15d09095-dc41-80df-96cf-e90f225288c0" aria-label="Permalink to &quot;**Contoh Blok **`http`** Lengkap** {#15d09095-dc41-80df-96cf-e90f225288c0}&quot;">​</a></h3><p>Berikut adalah contoh konfigurasi blok <code>http</code> yang lebih lengkap dengan beberapa pengaturan di atas:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1http {</span></span>
<span class="line"><span>2    include       mime.types;</span></span>
<span class="line"><span>3    default_type  application/octet-stream;</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span></span>
<span class="line"><span>6                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>
<span class="line"><span>7                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9    access_log  /var/log/nginx/access.log  main;</span></span>
<span class="line"><span>10    error_log   /var/log/nginx/error.log warn;</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12    sendfile        on;</span></span>
<span class="line"><span>13    tcp_nopush      on;</span></span>
<span class="line"><span>14    tcp_nodelay     on;</span></span>
<span class="line"><span>15    keepalive_timeout  65;</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17    gzip  on;</span></span>
<span class="line"><span>18    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20    client_max_body_size 10M;</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22    server {</span></span>
<span class="line"><span>23        listen 80;</span></span>
<span class="line"><span>24        server_name example.com www.example.com;</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26        location / {</span></span>
<span class="line"><span>27            root /var/www/html;</span></span>
<span class="line"><span>28            index index.html index.htm;</span></span>
<span class="line"><span>29            try_files $uri $uri/ /index.php?$query_string;</span></span>
<span class="line"><span>30        }</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32        location /api/ {</span></span>
<span class="line"><span>33            proxy_pass http://localhost:3000;</span></span>
<span class="line"><span>34        }</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36        error_page 404 /404.html;</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38        add_header X-Content-Type-Options nosniff;</span></span>
<span class="line"><span>39    }</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41    server {</span></span>
<span class="line"><span>42        listen 443 ssl;</span></span>
<span class="line"><span>43        server_name secure.example.com;</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45        ssl_certificate /etc/ssl/certs/secure.example.com.crt;</span></span>
<span class="line"><span>46        ssl_certificate_key /etc/ssl/private/secure.example.com.key;</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48        location / {</span></span>
<span class="line"><span>49            root /var/www/secure;</span></span>
<span class="line"><span>50            index index.html index.htm;</span></span>
<span class="line"><span>51        }</span></span>
<span class="line"><span>52    }</span></span>
<span class="line"><span>53}</span></span></code></pre></div><p>Dengan konfigurasi ini, Anda dapat mengelola berbagai aspek dari server HTTP Nginx, termasuk pengaturan untuk server virtual, pengelolaan permintaan, dan pengaturan keamanan.</p><h2 id="blok-server" tabindex="-1"><strong>Blok</strong> <code>server</code><strong>:</strong> <a class="header-anchor" href="#blok-server" aria-label="Permalink to &quot;**Blok** `server`**:**&quot;">​</a></h2><pre><code>Mewakili konfigurasi server individu (server blok).\

Contoh:

``` {#15809095-dc41-8001-81ca-e75a4543c2f4 .code}
server {
    listen 80;
    server_name example.com www.example.com;

    root /var/www/example;
    index index.html;

    location / {
        try_files $uri $uri/ =404;
    }
}
```
</code></pre><h2 id="blok-location" tabindex="-1"><strong>Blok</strong> <code>location</code><strong>:</strong> <a class="header-anchor" href="#blok-location" aria-label="Permalink to &quot;**Blok** `location`**:**&quot;">​</a></h2><pre><code>Mengatur respon Nginx terhadap URL spesifik.

Contoh:

``` {#15809095-dc41-80ce-b960-d40aa21907ff .code}
location /images/ {
    root /var/www/assets;
}

location /api/ {
    proxy_pass http://127.0.0.1:8000;
}
```
</code></pre><hr><h2 id="15809095-dc41-8044-a363-e8e40589f9af" tabindex="-1"><strong>Konfigurasi Dasar</strong> <a class="header-anchor" href="#15809095-dc41-8044-a363-e8e40589f9af" aria-label="Permalink to &quot;**Konfigurasi Dasar** {#15809095-dc41-8044-a363-e8e40589f9af}&quot;">​</a></h2><h3 id="15809095-dc41-80aa-885a-c15d90045389" tabindex="-1"><strong>1. Menyediakan Halaman Web Statis</strong> <a class="header-anchor" href="#15809095-dc41-80aa-885a-c15d90045389" aria-label="Permalink to &quot;**1. Menyediakan Halaman Web Statis** {#15809095-dc41-80aa-885a-c15d90045389}&quot;">​</a></h3><ol><li><p>Buat folder untuk file statis:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo mkdir -p /var/www/mysite</span></span>
<span class="line"><span>echo &quot;&lt;h1&gt;Welcome to MySite!&lt;/h1&gt;&quot; | sudo tee /var/www/mysite/index.html</span></span></code></pre></div></li></ol><ol start="2"><li><p>Buat server blok di <code>sites-available</code>:<br><br> Isi:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nano /etc/nginx/sites-available/mysite</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name mysite.com www.mysite.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root /var/www/mysite;</span></span>
<span class="line"><span>    index index.html;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        try_files $uri $uri/ =404;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p>Aktifkan konfigurasi:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo ln -s /etc/nginx/sites-available/mysite /etc/nginx/sites-enabled/</span></span></code></pre></div></li></ol><ol start="4"><li><p>Tes dan reload Nginx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><h3 id="15809095-dc41-80d7-aa16-fc8d71d1e81b" tabindex="-1"><strong>2. Mengatur Root Direktori Dokumen</strong> <a class="header-anchor" href="#15809095-dc41-80d7-aa16-fc8d71d1e81b" aria-label="Permalink to &quot;**2. Mengatur Root Direktori Dokumen** {#15809095-dc41-80d7-aa16-fc8d71d1e81b}&quot;">​</a></h3><ul><li><p>Direktori root ditentukan dalam blok <code>server</code> atau <code>location</code> dengan direktif <code>root</code>.<br> Contoh:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    root /var/www/html;</span></span>
<span class="line"><span>    index index.html index.htm;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="15809095-dc41-8078-9126-cc84cd7f1e99" tabindex="-1"><strong>3. Memahami Port dan Server Name</strong> <a class="header-anchor" href="#15809095-dc41-8078-9126-cc84cd7f1e99" aria-label="Permalink to &quot;**3. Memahami Port dan Server Name** {#15809095-dc41-8078-9126-cc84cd7f1e99}&quot;">​</a></h3><ul><li><p><strong>Port:</strong></p><ul><li>Nginx mendengarkan port tertentu menggunakan direktif <code>listen</code>.</li></ul><ul><li>Default: <code>listen 80;</code> untuk HTTP, <code>listen 443;</code> untuk HTTPS.</li></ul></li></ul><ul><li><p><strong>Server Name:</strong></p><ul><li>Mengidentifikasi domain yang dilayani Nginx dengan <code>server_name</code>.</li></ul><ul><li><p>Contoh:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server_name example.com www.example.com;</span></span></code></pre></div></li></ul></li></ul><hr><h2 id="15809095-dc41-80c7-a57e-c5fc3155b8c8" tabindex="-1"><strong>Tes dan Reload</strong> <a class="header-anchor" href="#15809095-dc41-80c7-a57e-c5fc3155b8c8" aria-label="Permalink to &quot;**Tes dan Reload** {#15809095-dc41-80c7-a57e-c5fc3155b8c8}&quot;">​</a></h2><h3 id="15809095-dc41-801b-8695-dade6469585d" tabindex="-1"><strong>1. Mengecek Konfigurasi dengan</strong> <code>nginx -t</code> <a class="header-anchor" href="#15809095-dc41-801b-8695-dade6469585d" aria-label="Permalink to &quot;**1. Mengecek Konfigurasi dengan** `nginx -t` {#15809095-dc41-801b-8695-dade6469585d}&quot;">​</a></h3><p>Sebelum menerapkan konfigurasi, selalu tes terlebih dahulu:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span></code></pre></div><ul><li><p><strong>Output sukses:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span></span>
<span class="line"><span>nginx: configuration file /etc/nginx/nginx.conf test is successful</span></span></code></pre></div></li></ul><ul><li>Jika ada kesalahan, periksa file yang disebutkan dalam error log.</li></ul><h3 id="15809095-dc41-80ef-bb3c-cd06c61096d8" tabindex="-1"><strong>2. Reload Nginx Tanpa Menghentikan Server</strong> <a class="header-anchor" href="#15809095-dc41-80ef-bb3c-cd06c61096d8" aria-label="Permalink to &quot;**2. Reload Nginx Tanpa Menghentikan Server** {#15809095-dc41-80ef-bb3c-cd06c61096d8}&quot;">​</a></h3><p>Setelah mengubah konfigurasi, reload untuk menerapkan perubahan:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div><ul><li>Reload tidak memutus koneksi aktif, berbeda dengan restart (<code>systemctl restart nginx</code>).</li></ul><hr><h3 id="15809095-dc41-80c3-abb9-c8e954c46327" tabindex="-1"><strong>Hasil</strong> <a class="header-anchor" href="#15809095-dc41-80c3-abb9-c8e954c46327" aria-label="Permalink to &quot;**Hasil** {#15809095-dc41-80c3-abb9-c8e954c46327}&quot;">​</a></h3><ul><li>Setelah langkah-langkah di atas, Anda dapat membuka browser dan mengakses <code>http://&lt;IP_SERVER&gt;</code> atau <code>http://mysite.com</code> untuk melihat halaman web statis yang Anda konfigurasi.</li></ul><p>Berikut adalah penjelasan detail dan praktis tentang <strong>file utama</strong><code>nginx.conf</code> yang digunakan oleh Nginx untuk konfigurasi server. Nginx mengandalkan file ini untuk mengatur cara server bekerja, bagaimana menangani permintaan HTTP, dan pengaturan koneksi serta pemrosesan lainnya.</p><hr><h2 id="15809095-dc41-8097-b884-e1ca11552a80" tabindex="-1"><strong>1. Lokasi dan Fungsi File Utama</strong> <code>nginx.conf</code> <a class="header-anchor" href="#15809095-dc41-8097-b884-e1ca11552a80" aria-label="Permalink to &quot;**1. Lokasi dan Fungsi File Utama** `nginx.conf` {#15809095-dc41-8097-b884-e1ca11552a80}&quot;">​</a></h2><p>File utama konfigurasi Nginx terletak di:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/etc/nginx/nginx.conf</span></span></code></pre></div><p>File ini berfungsi untuk menentukan bagaimana Nginx beroperasi saat dijalankan. File ini bisa diubah untuk menyesuaikan berbagai aspek dari Nginx seperti pengaturan koneksi, pengaturan server, server blok, URL routing, caching, dan lainnya.</p><hr><h2 id="15809095-dc41-80b7-9637-d54aa60d50e2" tabindex="-1"><strong>2. Blok-Konfigurasi dalam</strong> <code>nginx.conf</code> <a class="header-anchor" href="#15809095-dc41-80b7-9637-d54aa60d50e2" aria-label="Permalink to &quot;**2. Blok-Konfigurasi dalam** `nginx.conf` {#15809095-dc41-80b7-9637-d54aa60d50e2}&quot;">​</a></h2><p>File <code>nginx.conf</code> terdiri dari beberapa blok konfigurasi utama yang dapat diatur:</p><h3 id="15809095-dc41-8073-9ecf-cf3a42ca73a1" tabindex="-1"><strong>A. Blok</strong> <code>events</code> <a class="header-anchor" href="#15809095-dc41-8073-9ecf-cf3a42ca73a1" aria-label="Permalink to &quot;**A. Blok** `events` {#15809095-dc41-8073-9ecf-cf3a42ca73a1}&quot;">​</a></h3><p>Blok <code>events</code> digunakan untuk mengonfigurasi aspek-aspek yang terkait dengan koneksi dan pengelolaan sumber daya sistem. Blok <code>events</code> adalah bagian di dalam <code>nginx.conf</code> yang digunakan untuk mengatur bagaimana Nginx menangani koneksi dari pengguna. Ini berfokus pada pengelolaan sumber daya sistem dan pengaturan yang berkaitan dengan koneksi.</p><ol><li><p><strong>worker_connections:</strong></p><ul><li>Ini adalah pengaturan yang menentukan berapa banyak koneksi yang dapat ditangani oleh setiap &quot;worker process&quot; (proses pekerja) Nginx. Semakin banyak koneksi yang bisa ditangani, semakin banyak pengguna yang dapat dilayani secara bersamaan. Misalnya, jika Anda mengatur <code>worker_connections</code> ke 1024, maka setiap proses pekerja dapat menangani hingga 1024 koneksi sekaligus.</li></ul><ul><li>Jika Anda memiliki banyak pengguna yang mengakses situs web Anda secara bersamaan, Anda perlu memastikan bahwa Nginx dapat menangani semua permintaan tersebut. Dengan mengatur <code>worker_connections</code> ke nilai yang lebih tinggi, Anda memungkinkan setiap proses pekerja untuk melayani lebih banyak koneksi sekaligus.</li></ul><ul><li><p><strong>Contoh:</strong></p><p>Jika Anda mengatur <code>worker_connections</code> ke 1024, itu berarti setiap proses pekerja dapat menangani hingga 1024 koneksi aktif pada saat yang sama. Jika Anda memiliki 4 proses pekerja, maka total koneksi yang dapat ditangani oleh Nginx adalah 4 x 1024 = 4096 koneksi.</p><p>Nilai ini harus disesuaikan dengan kapasitas server Anda dan jumlah pengguna yang diharapkan. Jika terlalu tinggi, bisa menyebabkan penggunaan sumber daya yang berlebihan, sedangkan jika terlalu rendah, bisa menyebabkan pengguna tidak dapat terlayani dengan baik.</p></li></ul></li></ol><ol start="2"><li><p><strong>use:</strong></p><ul><li>Anda juga bisa menentukan metode yang digunakan untuk menangani koneksi. Misalnya, Anda bisa memilih untuk menggunakan metode <code>epoll</code> (yang efisien untuk sistem Linux) atau metode lain yang sesuai dengan sistem operasi yang Anda gunakan. Ini membantu Nginx bekerja lebih baik dengan sumber daya yang ada.</li></ul><ul><li>Memilih metode yang tepat dapat meningkatkan kinerja Nginx, terutama saat menangani banyak koneksi. Dengan menggunakan metode yang sesuai dengan sistem operasi, Nginx dapat memanfaatkan sumber daya sistem dengan lebih baik.</li></ul><ul><li><p><strong>Metode yang umum digunakan:</strong></p><ul><li><strong>epoll:</strong> Metode ini sangat efisien untuk sistem operasi Linux. Ia memungkinkan Nginx untuk menangani banyak koneksi secara bersamaan dengan cara yang lebih efisien dibandingkan metode lain.</li></ul><ul><li><strong>kqueue:</strong> Metode ini digunakan pada sistem operasi BSD (seperti FreeBSD).</li></ul><ul><li><strong>select dan poll:</strong> Metode ini lebih umum dan dapat digunakan di berbagai sistem operasi, tetapi tidak seefisien epoll atau kqueue dalam menangani banyak koneksi.</li></ul></li></ul></li></ol><ol start="3"><li><p><strong>multi_accept:</strong></p><ul><li>Pengaturan ini memungkinkan Nginx untuk menerima beberapa koneksi sekaligus dalam satu waktu. Jika diaktifkan, Nginx dapat lebih cepat dalam menangani banyak permintaan yang datang secara bersamaan.</li></ul><ul><li>Dengan mengaktifkan <code>multi_accept</code>, Nginx dapat lebih cepat dalam menangani banyak permintaan yang datang secara bersamaan. Ini sangat berguna dalam situasi di mana banyak pengguna mencoba mengakses situs web pada saat yang sama, seperti saat peluncuran produk atau promosi besar.</li></ul><ul><li>Contoh: Jika <code>multi_accept</code> diatur ke <code>on</code>, dan ada 10 koneksi baru yang datang pada saat yang sama, Nginx dapat menerima semua 10 koneksi tersebut dalam satu siklus, bukan satu per satu. Ini mengurangi waktu yang dibutuhkan untuk memproses setiap koneksi dan meningkatkan responsivitas server.</li></ul></li></ol><p><strong>Contoh konfigurasi:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>events {</span></span>
<span class="line"><span>    worker_connections 1024;  # Setiap worker dapat menangani hingga 1024 koneksi</span></span>
<span class="line"><span>    use epoll;                # Menggunakan metode epoll untuk menangani koneksi</span></span>
<span class="line"><span>    multi_accept on;          # Mengizinkan penerimaan beberapa koneksi sekaligus</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>Penjelasan Setiap Baris</strong></p><ol><li><code>events { ... }</code><ul><li>Ini adalah blok <code>events</code> yang digunakan untuk mengonfigurasi pengaturan yang berkaitan dengan koneksi dan pengelolaan sumber daya di Nginx. Semua pengaturan yang ada di dalam kurung kurawal <code>{}</code> ini akan mempengaruhi bagaimana Nginx menangani koneksi dari pengguna.</li></ul></li></ol><ol start="2"><li><p><code>worker_connections 1024;</code></p><ul><li><strong>Apa itu?</strong>: Baris ini mengatur jumlah maksimum koneksi yang dapat ditangani oleh setiap proses pekerja (worker process) Nginx.</li></ul><ul><li><strong>Penjelasan</strong>: Dengan mengatur <code>worker_connections</code> ke 1024, Anda memberi tahu Nginx bahwa setiap proses pekerja dapat menangani hingga 1024 koneksi aktif secara bersamaan. Ini berarti jika Anda memiliki beberapa proses pekerja, total koneksi yang dapat ditangani oleh Nginx adalah hasil kali dari jumlah proses pekerja dan nilai ini. Misalnya, jika Anda memiliki 4 proses pekerja, maka total koneksi yang dapat ditangani adalah 4 x 1024 = 4096 koneksi.</li></ul></li></ol><ol start="3"><li><p><code>use epoll;</code></p><ul><li><strong>Apa itu?</strong>: Baris ini menentukan metode yang digunakan oleh Nginx untuk menangani koneksi.</li></ul><ul><li><strong>Penjelasan</strong>: Dengan menggunakan <code>epoll</code>, Nginx akan memanfaatkan metode yang efisien untuk menangani banyak koneksi secara bersamaan, khususnya pada sistem operasi Linux. <code>epoll</code> dirancang untuk menangani banyak koneksi dengan lebih baik dibandingkan metode lain seperti <code>select</code> atau <code>poll</code>, sehingga dapat meningkatkan kinerja Nginx saat ada banyak pengguna yang mengakses situs web secara bersamaan.</li></ul></li></ol><ol start="4"><li><p><code>multi_accept on;</code></p><ul><li><strong>Apa itu?</strong>: Baris ini mengatur apakah Nginx dapat menerima beberapa koneksi baru dalam satu waktu.</li></ul><ul><li><strong>Penjelasan</strong>: Dengan mengatur <code>multi_accept</code> ke <code>on</code>, Anda mengizinkan Nginx untuk menerima lebih dari satu koneksi baru dalam satu siklus. Ini berarti jika ada beberapa permintaan koneksi yang datang secara bersamaan, Nginx dapat menerima semuanya sekaligus, bukan satu per satu. Ini membantu meningkatkan kecepatan dan efisiensi dalam menangani banyak permintaan, terutama saat ada lonjakan lalu lintas.</li></ul></li></ol><h3 id="15809095-dc41-80e4-9f9f-ebbd08c64704" tabindex="-1"><strong>B. Blok</strong> <code>http</code> <a class="header-anchor" href="#15809095-dc41-80e4-9f9f-ebbd08c64704" aria-label="Permalink to &quot;**B. Blok** `http` {#15809095-dc41-80e4-9f9f-ebbd08c64704}&quot;">​</a></h3><p>Blok <code>http</code> adalah blok yang digunakan untuk mengonfigurasi pengaturan HTTP secara keseluruhan seperti server, lokasi file statis, pengaturan caching, SSL, dan lain-lain.</p><p><strong>Contoh konfigurasi:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http {</span></span>
<span class="line"><span>    include       mime.types;</span></span>
<span class="line"><span>    default_type  application/octet-stream;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    server {</span></span>
<span class="line"><span>        listen       80;</span></span>
<span class="line"><span>        server_name  localhost;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>            root   /usr/share/nginx/html;</span></span>
<span class="line"><span>            index  index.html index.htm;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>Penjelasan:</strong></p><ul><li><code>include mime.types</code>: Mengimpor file tipe MIME, yang digunakan untuk menentukan tipe konten file yang akan disajikan oleh Nginx.</li></ul><ul><li><code>default_type</code>: Menentukan tipe MIME default jika tidak ditemukan tipe untuk file tertentu.</li></ul><ul><li><code>server</code>: Di dalam blok <code>http</code>, kita dapat menentukan beberapa blok <code>server</code> yang akan menangani konfigurasi untuk server yang berbeda.</li></ul><h3 id="15809095-dc41-80bf-8cfb-c89df2b6f810" tabindex="-1"><strong>C. Blok</strong> <code>server</code> <a class="header-anchor" href="#15809095-dc41-80bf-8cfb-c89df2b6f810" aria-label="Permalink to &quot;**C. Blok** `server` {#15809095-dc41-80bf-8cfb-c89df2b6f810}&quot;">​</a></h3><p>Blok <code>server</code> digunakan untuk mendefinisikan konfigurasi untuk server web tertentu, seperti server virtual (hostname, port, dan lainnya). Di dalam blok <code>server</code>, Anda bisa menambahkan konfigurasi untuk menangani alamat IP, port, dan host yang berbeda.</p><p><strong>Contoh konfigurasi:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen       80;</span></span>
<span class="line"><span>    server_name  example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        root   /var/www/example;</span></span>
<span class="line"><span>        index  index.html index.htm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>Penjelasan:</strong></p><ul><li><code>listen 80</code>: Nginx akan mendengarkan pada port 80 (HTTP).</li></ul><ul><li><code>server_name</code>: Nama domain yang ditangani oleh server ini. Misalnya, <code>example.com</code>.</li></ul><ul><li><code>location /</code>: Menentukan lokasi root direktori untuk file yang disajikan ketika permintaan datang ke root URL (<code>/</code>).</li></ul><ul><li><code>root /var/www/example</code>: Lokasi direktori web untuk menyajikan file.</li></ul><ul><li><code>index index.html index.htm</code>: Menentukan file index yang akan dilayani oleh Nginx jika tidak ada file lain yang diminta.</li></ul><h3 id="15809095-dc41-800d-b343-d6a6d77a3857" tabindex="-1"><strong>D. Blok</strong> <code>location</code> <a class="header-anchor" href="#15809095-dc41-800d-b343-d6a6d77a3857" aria-label="Permalink to &quot;**D. Blok** `location` {#15809095-dc41-800d-b343-d6a6d77a3857}&quot;">​</a></h3><p>Blok <code>location</code> digunakan untuk menangani URL tertentu pada server. Ini memungkinkan Anda untuk menentukan pengaturan lebih rinci berdasarkan pola URL. Blok ini digunakan untuk menangani permintaan spesifik berdasarkan path.</p><p><strong>Contoh konfigurasi:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location /images/ {</span></span>
<span class="line"><span>        root /var/www/example;</span></span>
<span class="line"><span>        try_files $uri $uri/ =404;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location /api/ {</span></span>
<span class="line"><span>        proxy_pass http://127.0.0.1:8000;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>Penjelasan:</strong></p><ul><li><code>location /images/</code>: Blok ini menangani semua permintaan yang diawali dengan <code>/images/</code>. Misalnya, jika pengguna meminta <code>http://example.com/images/logo.png</code>, maka file <code>logo.png</code> akan dicari di <code>/var/www/example/images/</code>.</li></ul><ul><li><code>location /api/</code>: Blok ini menangani permintaan yang diawali dengan <code>/api/</code>. Misalnya, permintaan ke <code>http://example.com/api/</code> akan diteruskan ke aplikasi lain (seperti server backend) melalui <code>proxy_pass</code>. <ul><li><code>proxy_pass http://127.0.0.1:8000</code>: Artinya, permintaan tersebut diteruskan ke aplikasi backend yang berjalan di localhost pada port 8000.</li></ul></li></ul><h3 id="15809095-dc41-80e6-85a7-fc758a13d5ce" tabindex="-1"><strong>E. Blok</strong> <code>http</code> <strong>lebih lanjut (Pengaturan Caching, SSL, dll)</strong> <a class="header-anchor" href="#15809095-dc41-80e6-85a7-fc758a13d5ce" aria-label="Permalink to &quot;**E. Blok** `http` **lebih lanjut (Pengaturan Caching, SSL, dll)** {#15809095-dc41-80e6-85a7-fc758a13d5ce}&quot;">​</a></h3><p>Di dalam blok <code>http</code>, Anda bisa menambahkan banyak pengaturan lanjutan seperti caching, pengaturan header HTTP, atau pengaturan SSL.</p><p><strong>Contoh konfigurasi caching:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http {</span></span>
<span class="line"><span>    include       mime.types;</span></span>
<span class="line"><span>    default_type  application/octet-stream;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    server {</span></span>
<span class="line"><span>        listen 80;</span></span>
<span class="line"><span>        server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>            root /var/www/example;</span></span>
<span class="line"><span>            try_files $uri $uri/ /index.html;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location ~* \.(jpg|jpeg|png|gif|css|js)$ {</span></span>
<span class="line"><span>            expires 30d;</span></span>
<span class="line"><span>            access_log off;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>Penjelasan:</strong></p><ul><li><code>location ~* \.(jpg|jpeg|png|gif|css|js)$</code>: Menangani permintaan untuk file gambar dan file statis lainnya (CSS, JS).</li></ul><ul><li><code>expires 30d</code>: Mengatur agar file yang diminta disimpan di cache browser selama 30 hari.</li></ul><ul><li><code>access_log off</code>: Mematikan pencatatan akses untuk file statis tersebut untuk mengurangi beban pada server.</li></ul><hr><h2 id="15809095-dc41-805b-baf8-e85e308d4308" tabindex="-1"><strong>3. Mengedit dan Memverifikasi Konfigurasi</strong> <a class="header-anchor" href="#15809095-dc41-805b-baf8-e85e308d4308" aria-label="Permalink to &quot;**3. Mengedit dan Memverifikasi Konfigurasi** {#15809095-dc41-805b-baf8-e85e308d4308}&quot;">​</a></h2><p>Setelah Anda mengedit file <code>nginx.conf</code>, Anda perlu memverifikasi konfigurasi dan memuat ulang Nginx agar perubahan dapat diterapkan:</p><ol><li><p><strong>Memverifikasi Konfigurasi:</strong><br> Gunakan perintah ini untuk memeriksa apakah ada kesalahan dalam konfigurasi:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Muat Ulang Nginx:</strong><br> Jika tidak ada kesalahan, muat ulang konfigurasi agar perubahan diterapkan tanpa menghentikan layanan Nginx:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><hr><h2 id="15809095-dc41-8026-b19b-fa6309389326" tabindex="-1"><strong>Kesimpulan</strong> <a class="header-anchor" href="#15809095-dc41-8026-b19b-fa6309389326" aria-label="Permalink to &quot;**Kesimpulan** {#15809095-dc41-8026-b19b-fa6309389326}&quot;">​</a></h2><p>File <code>nginx.conf</code> adalah file konfigurasi utama Nginx yang digunakan untuk mengonfigurasi berbagai aspek dari server web, mulai dari pengaturan koneksi hingga cara menangani permintaan HTTP, SSL, dan caching. Dengan memahami blok-blok utama dalam <code>nginx.conf</code>, seperti <code>events</code>, <code>http</code>, <code>server</code>, dan <code>location</code>, Anda dapat mengonfigurasi server Nginx sesuai dengan kebutuhan aplikasi Anda.</p><ol start="3"><li>Konfigurasi Server Web {#15809095-dc41-806d-af41-cd7155348d85} =========================</li></ol><p>Berikut adalah penjelasan lengkap dan praktis untuk <strong>Konfigurasi Server Web</strong> dengan Nginx:</p><hr><h2 id="15809095-dc41-800f-b2b6-cd694ddd3cf5" tabindex="-1"><strong>1. Hosting Website</strong> <a class="header-anchor" href="#15809095-dc41-800f-b2b6-cd694ddd3cf5" aria-label="Permalink to &quot;**1. Hosting Website** {#15809095-dc41-800f-b2b6-cd694ddd3cf5}&quot;">​</a></h2><h3 id="15809095-dc41-80a5-b5ed-c3c3720ae4d4" tabindex="-1"><strong>A. Konfigurasi Virtual Hosts (Server Blocks)</strong> <a class="header-anchor" href="#15809095-dc41-80a5-b5ed-c3c3720ae4d4" aria-label="Permalink to &quot;**A. Konfigurasi Virtual Hosts (Server Blocks)** {#15809095-dc41-80a5-b5ed-c3c3720ae4d4}&quot;">​</a></h3><p><strong>Virtual hosts</strong> memungkinkan Nginx melayani beberapa domain pada satu server fisik dengan konfigurasi berbeda.</p><ol><li><p><strong>Buat direktori untuk website:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo mkdir -p /var/www/example.com</span></span>
<span class="line"><span>echo &quot;&lt;h1&gt;Welcome to example.com&lt;/h1&gt;&quot; | sudo tee /var/www/example.com/index.html</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Buat file konfigurasi server blok:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nano /etc/nginx/sites-available/example.com</span></span></code></pre></div><p>Isi file:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com www.example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root /var/www/example.com;</span></span>
<span class="line"><span>    index index.html;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        try_files $uri $uri/ =404;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Aktifkan konfigurasi dengan symbolic link:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Nonaktifkan konfigurasi (jika diperlukan):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo rm /etc/nginx/sites-enabled/example.com</span></span></code></pre></div></li></ol><ol start="5"><li><p><strong>Tes dan reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="6"><li><p><strong>Uji domain:</strong></p><ul><li>Arahkan domain Anda ke IP server melalui DNS.</li></ul><ul><li>Akses <code>http://example.com</code> untuk memverifikasi.</li></ul></li></ol><hr><h2 id="15809095-dc41-80a4-9fea-c37fc9443fb9" tabindex="-1"><strong>2. Konfigurasi SSL</strong> <a class="header-anchor" href="#15809095-dc41-80a4-9fea-c37fc9443fb9" aria-label="Permalink to &quot;**2. Konfigurasi SSL** {#15809095-dc41-80a4-9fea-c37fc9443fb9}&quot;">​</a></h2><h3 id="15809095-dc41-8053-ac16-dd641f74e1b4" tabindex="-1"><strong>A. Memasang Let&#39;s Encrypt dengan Certbot</strong> <a class="header-anchor" href="#15809095-dc41-8053-ac16-dd641f74e1b4" aria-label="Permalink to &quot;**A. Memasang Let&#39;s Encrypt dengan Certbot** {#15809095-dc41-8053-ac16-dd641f74e1b4}&quot;">​</a></h3><ol><li><p><strong>Instal Certbot dan plugin Nginx:</strong></p><ul><li><p><strong>Ubuntu:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt update</span></span>
<span class="line"><span>sudo apt install certbot python3-certbot-nginx -y</span></span></code></pre></div></li></ul><ul><li><p><strong>CentOS/AlmaLinux:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo yum install epel-release -y</span></span>
<span class="line"><span>sudo yum install certbot python3-certbot-nginx -y</span></span></code></pre></div></li></ul></li></ol><ol start="2"><li><p><strong>Dapatkan sertifikat SSL:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo certbot --nginx -d example.com -d www.example.com</span></span></code></pre></div><ul><li>Ikuti panduan interaktif untuk mengatur SSL.</li></ul><ul><li>Certbot otomatis mengubah file konfigurasi Nginx Anda untuk menggunakan HTTPS.</li></ul></li></ol><ol start="3"><li><strong>Perbarui sertifikat otomatis (opsional):</strong><ul><li><p>Tambahkan ke crontab:<br><br> Tambahkan baris:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo crontab -e</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0 0 * * * certbot renew --quiet</span></span></code></pre></div></li></ul></li></ol><h3 id="15809095-dc41-804d-9a65-f33652933a2a" tabindex="-1"><strong>B. Mengaktifkan Pengalihan Otomatis dari HTTP ke HTTPS</strong> <a class="header-anchor" href="#15809095-dc41-804d-9a65-f33652933a2a" aria-label="Permalink to &quot;**B. Mengaktifkan Pengalihan Otomatis dari HTTP ke HTTPS** {#15809095-dc41-804d-9a65-f33652933a2a}&quot;">​</a></h3><p>Edit file konfigurasi <code>example.com</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com www.example.com;</span></span>
<span class="line"><span>    return 301 https://$host$request_uri;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>    listen 443 ssl;</span></span>
<span class="line"><span>    server_name example.com www.example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</span></span>
<span class="line"><span>    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root /var/www/example.com;</span></span>
<span class="line"><span>    index index.html;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        try_files $uri $uri/ =404;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Reload Nginx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div><p>Akses <code>http://example.com</code>, yang akan dialihkan ke <code>https://example.com</code>.</p><hr><h2 id="15809095-dc41-8081-9610-d9c20553e2e8" tabindex="-1"><strong>3. Caching</strong> <a class="header-anchor" href="#15809095-dc41-8081-9610-d9c20553e2e8" aria-label="Permalink to &quot;**3. Caching** {#15809095-dc41-8081-9610-d9c20553e2e8}&quot;">​</a></h2><h3 id="15809095-dc41-8012-abd1-cdf4e1ff1fbb" tabindex="-1"><strong>A. Menyimpan Cache Statis</strong> <a class="header-anchor" href="#15809095-dc41-8012-abd1-cdf4e1ff1fbb" aria-label="Permalink to &quot;**A. Menyimpan Cache Statis** {#15809095-dc41-8012-abd1-cdf4e1ff1fbb}&quot;">​</a></h3><ol><li><p>Tambahkan konfigurasi caching di dalam blok <code>server</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|otf|eot|html)$ {</span></span>
<span class="line"><span>    expires 30d;</span></span>
<span class="line"><span>    add_header Cache-Control &quot;public&quot;;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Penjelasan:</strong></p><ul><li><code>expires 30d;</code>: Memberitahu browser untuk menyimpan file selama 30 hari.</li></ul><ul><li><code>add_header Cache-Control &quot;public&quot;;</code>: Mengizinkan semua pengguna mengakses cache.</li></ul></li></ol><ol start="3"><li><p>Reload konfigurasi:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Uji caching:</strong></p><ul><li>Buka alat developer browser (F12).</li></ul><ul><li>Akses tab <strong>Network</strong>, pastikan file memiliki header <strong>Cache-Control</strong>.</li></ul></li></ol><hr><h3 id="15809095-dc41-8018-8521-fd618272ab0f" tabindex="-1"><strong>B. Mengatur Header Caching (</strong><code>Cache-Control</code><strong>,</strong> <code>Expires</code><strong>)</strong> <a class="header-anchor" href="#15809095-dc41-8018-8521-fd618272ab0f" aria-label="Permalink to &quot;**B. Mengatur Header Caching (**`Cache-Control`**,** `Expires`**)** {#15809095-dc41-8018-8521-fd618272ab0f}&quot;">​</a></h3><ol><li><p><strong>Cache halaman statis dengan</strong> <code>proxy_cache</code><strong>:</strong><br> Tambahkan konfigurasi caching di blok<br><code>http</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>proxy_cache_path /etc/nginx/cache keys_zone=cache_zone:10m max_size=10g;</span></span></code></pre></div><p>Di dalam blok <code>server</code> atau <code>location</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location / {</span></span>
<span class="line"><span>    proxy_cache cache_zone;</span></span>
<span class="line"><span>    proxy_pass http://127.0.0.1:8000; # Aplikasi backend</span></span>
<span class="line"><span>    add_header X-Cache-Status $upstream_cache_status;</span></span>
<span class="line"><span>    expires 1h;</span></span>
<span class="line"><span>    add_header Cache-Control &quot;public&quot;;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Penjelasan:</strong></p><ul><li><code>proxy_cache_path</code><strong>:</strong> Direktori penyimpanan cache dengan ukuran maksimum.</li></ul><ul><li><code>X-Cache-Status</code><strong>:</strong> Menunjukkan status cache (HIT/MISS).</li></ul><ul><li><code>expires 1h;</code>: Konten disimpan dalam cache selama 1 jam.</li></ul></li></ol><ol start="3"><li><p><strong>Tes caching:</strong><br> Akses URL yang sesuai dan periksa header di browser atau gunakan<br><code>curl</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -I http://example.com</span></span></code></pre></div><p>Hasil akan menunjukkan header <code>X-Cache-Status</code>.</p></li></ol><hr><h3 id="15809095-dc41-80d9-a517-f2661e25c02f" tabindex="-1"><strong>Hasil Akhir</strong> <a class="header-anchor" href="#15809095-dc41-80d9-a517-f2661e25c02f" aria-label="Permalink to &quot;**Hasil Akhir** {#15809095-dc41-80d9-a517-f2661e25c02f}&quot;">​</a></h3><ul><li><p>Anda sekarang memiliki:</p><ol><li>Virtual host untuk melayani domain tertentu.</li></ol><ol start="2"><li>HTTPS aktif dengan Let&#39;s Encrypt.</li></ol><ol start="3"><li>Caching untuk konten statis dan backend.</li></ol></li></ul><ul><li>Akses domain Anda di browser untuk memverifikasi semua konfigurasi berjalan dengan baik.</li></ul><ol start="5"><li>Konfigurasi Reverse Proxy dengan Nginx {#15809095-dc41-8037-bbcd-da6d98916a66} =========================================</li></ol><p>Berikut adalah panduan lengkap dan praktis untuk <strong>Konfigurasi Reverse Proxy dengan Nginx</strong>, termasuk implementasi dan contoh penggunaan.</p><hr><h2 id="15809095-dc41-80ce-83ef-fd1183a622a7" tabindex="-1"><strong>1. Dasar Reverse Proxy</strong> <a class="header-anchor" href="#15809095-dc41-80ce-83ef-fd1183a622a7" aria-label="Permalink to &quot;**1. Dasar Reverse Proxy** {#15809095-dc41-80ce-83ef-fd1183a622a7}&quot;">​</a></h2><h3 id="15809095-dc41-8067-8a48-f9d9477e2504" tabindex="-1"><strong>A. Konfigurasi Nginx Sebagai Reverse Proxy</strong> <a class="header-anchor" href="#15809095-dc41-8067-8a48-f9d9477e2504" aria-label="Permalink to &quot;**A. Konfigurasi Nginx Sebagai Reverse Proxy** {#15809095-dc41-8067-8a48-f9d9477e2504}&quot;">​</a></h3><p><strong>Reverse Proxy</strong> bertindak sebagai perantara antara klien dan server backend (seperti Django, Node.js, atau PHP). Nginx menerima permintaan klien dan meneruskannya ke server aplikasi backend.</p><p><strong>Reverse Proxy</strong> adalah sebuah konsep dalam jaringan komputer di mana sebuah server bertindak sebagai perantara (proxy) untuk menangani permintaan yang datang ke server lainnya. Istilah &quot;reverse&quot; merujuk pada arah aliran lalu lintas yang berlawanan dengan proxy biasa, di mana proxy biasa biasanya mengarahkan klien ke server yang lebih banyak atau berbeda.</p><h3 id="15809095-dc41-80d1-8e0f-ebd7bad5dba4" tabindex="-1"><strong>Analogi yang Masuk Akal</strong> <a class="header-anchor" href="#15809095-dc41-80d1-8e0f-ebd7bad5dba4" aria-label="Permalink to &quot;**Analogi yang Masuk Akal** {#15809095-dc41-80d1-8e0f-ebd7bad5dba4}&quot;">​</a></h3><p>Bayangkan sebuah restoran dengan banyak dapur yang masing-masing menyajikan menu spesial. Ketika seorang pengunjung datang ke restoran tersebut, mereka tidak langsung menuju dapur. Sebaliknya, ada seorang pelayan (yang bertindak sebagai &quot;reverse proxy&quot;) yang menerima pesanan dari pengunjung.</p><ul><li><strong>Pelayan (Reverse Proxy):</strong> Pelayan ini menerima pesanan dari pengunjung, kemudian memutuskan ke dapur mana pesanan tersebut harus dikirim berdasarkan menu yang diminta. Jika pengunjung meminta makanan dari dapur A, pelayan akan mengarahkannya ke dapur A. Jika menu lain, pelayan akan mengarahkannya ke dapur B.</li></ul><ul><li><strong>Dapur (Server Backend):</strong> Dapur-dapur ini bertanggung jawab untuk menyiapkan makanan, tetapi pengunjung tidak langsung berinteraksi dengan dapur tersebut. Mereka hanya berinteraksi dengan pelayan.</li></ul><p>Dengan cara ini, pengunjung tidak perlu tahu dapur mana yang sedang menyiapkan makanan mereka, dan pelayan dapat melakukan beberapa hal di balik layar seperti mendistribusikan pesanan secara adil ke dapur atau menyembunyikan kompleksitas dari pengunjung.</p><h3 id="15809095-dc41-809d-8cfd-e0e0d683674b" tabindex="-1"><strong>Mengapa Ada Istilah &quot;Reverse Proxy&quot;?</strong> <a class="header-anchor" href="#15809095-dc41-809d-8cfd-e0e0d683674b" aria-label="Permalink to &quot;**Mengapa Ada Istilah &quot;Reverse Proxy&quot;?** {#15809095-dc41-809d-8cfd-e0e0d683674b}&quot;">​</a></h3><p>Istilah <strong>&quot;reverse&quot;</strong> digunakan untuk membedakan dari proxy biasa. Pada <strong>proxy biasa</strong>, yang sering digunakan dalam konteks klien dan server, klien mengirimkan permintaan ke proxy yang kemudian meneruskannya ke server yang sesuai. Jadi, proxy di sini bertindak atas nama klien.</p><p>Namun, pada <strong>reverse proxy</strong>, arahannya terbalik. Server yang melayani permintaan tidak langsung melayani klien, melainkan permintaan klien diteruskan terlebih dahulu ke reverse proxy yang kemudian meneruskannya ke server yang sesuai di belakangnya.</p><hr><h3 id="15809095-dc41-806a-bf3c-efe1f9b6e9a0" tabindex="-1"><strong>Bagaimana Reverse Proxy Bekerja?</strong> <a class="header-anchor" href="#15809095-dc41-806a-bf3c-efe1f9b6e9a0" aria-label="Permalink to &quot;**Bagaimana Reverse Proxy Bekerja?** {#15809095-dc41-806a-bf3c-efe1f9b6e9a0}&quot;">​</a></h3><ol><li><strong>Menerima Permintaan dari Klien:</strong><br> Reverse proxy pertama kali menerima permintaan dari pengguna atau klien (seperti permintaan HTTP atau HTTPS).\</li></ol><ol start="2"><li><strong>Menentukan Tujuan Permintaan:</strong><br> Reverse proxy kemudian memutuskan ke server mana permintaan tersebut akan diteruskan. Ini bisa berdasarkan banyak faktor seperti load balancing, jenis konten yang diminta, atau faktor lainnya.\</li></ol><ol start="3"><li><strong>Meneruskan Permintaan ke Server Backend:</strong><br> Setelah menentukan tujuan, reverse proxy akan mengarahkan permintaan ke server yang sesuai di belakangnya (misalnya, server A, server B, dll).\</li></ol><ol start="4"><li><strong>Menerima Respons dari Server Backend:</strong><br> Server yang menerima permintaan akan memprosesnya dan mengirimkan respons kembali ke reverse proxy.\</li></ol><ol start="5"><li><strong>Meneruskan Respons ke Klien:</strong><br> Reverse proxy kemudian mengirimkan respons yang diterima dari server backend kembali ke klien.\</li></ol><hr><h3 id="15809095-dc41-80e2-bf6a-d13ce11b7222" tabindex="-1"><strong>Fungsi dan Kegunaan Reverse Proxy</strong> <a class="header-anchor" href="#15809095-dc41-80e2-bf6a-d13ce11b7222" aria-label="Permalink to &quot;**Fungsi dan Kegunaan Reverse Proxy** {#15809095-dc41-80e2-bf6a-d13ce11b7222}&quot;">​</a></h3><ol><li><strong>Load Balancing:</strong><br> Reverse proxy sering digunakan untuk mendistribusikan permintaan dari klien ke beberapa server backend yang dapat mengelola beban secara merata. Ini membantu mengoptimalkan penggunaan sumber daya dan meningkatkan performa situs web atau aplikasi.\</li></ol><ol start="2"><li><strong>Keamanan:</strong><br> Reverse proxy dapat menyembunyikan detail tentang server backend. Misalnya, klien hanya berinteraksi dengan reverse proxy dan tidak mengetahui alamat atau jenis server yang sebenarnya melayani permintaan. Ini dapat mengurangi risiko serangan langsung ke server backend.\</li></ol><ol start="3"><li><strong>SSL Termination:</strong><br> Reverse proxy bisa mengelola enkripsi SSL/TLS (HTTPS) dengan cara mengakhiri koneksi SSL di tingkat proxy, yang meringankan beban enkripsi pada server backend.\</li></ol><ol start="4"><li><strong>Caching:</strong><br> Reverse proxy dapat menyimpan salinan data yang diminta oleh klien dalam cache untuk mempercepat respons di masa depan tanpa harus memproses ulang permintaan yang sama oleh server backend.\</li></ol><ol start="5"><li><strong>Penyembunyian Kompleksitas Infrastruktur:</strong><br> Dengan menggunakan reverse proxy, klien tidak perlu mengetahui tentang banyak server yang terlibat. Ini memberikan keuntungan dalam hal penyembunyian kompleksitas dan mengelola perubahan infrastruktur tanpa mempengaruhi klien.\</li></ol><hr><h3 id="15809095-dc41-806b-a41e-f63fd9533a7d" tabindex="-1"><strong>Contoh Penggunaan Reverse Proxy</strong> <a class="header-anchor" href="#15809095-dc41-806b-a41e-f63fd9533a7d" aria-label="Permalink to &quot;**Contoh Penggunaan Reverse Proxy** {#15809095-dc41-806b-a41e-f63fd9533a7d}&quot;">​</a></h3><ol><li><p><strong>Nginx sebagai Reverse Proxy:</strong><br> Nginx adalah salah satu aplikasi yang banyak digunakan sebagai reverse proxy. Misalnya, Nginx dapat menerima permintaan dari pengguna dan mendistribusikan permintaan tersebut ke beberapa server web backend (seperti aplikasi Django, Node.js, atau PHP).\</p><p>Berikut adalah contoh konfigurasi reverse proxy menggunakan Nginx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://127.0.0.1:8000; # Arahkan permintaan ke server backend</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Load Balancer dengan Reverse Proxy:</strong><br> Jika aplikasi Anda dihosting di beberapa server, reverse proxy dapat digunakan untuk mendistribusikan permintaan ke server yang berbeda, membantu dalam<br><strong>load balancing</strong>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upstream backend_servers {</span></span>
<span class="line"><span>    server 127.0.0.1:8001;</span></span>
<span class="line"><span>    server 127.0.0.1:8002;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://backend_servers;  # Balancing ke beberapa backend</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-80e9-9160-ce45cd9b6f54" tabindex="-1"><strong>Kesimpulan</strong> <a class="header-anchor" href="#15809095-dc41-80e9-9160-ce45cd9b6f54" aria-label="Permalink to &quot;**Kesimpulan** {#15809095-dc41-80e9-9160-ce45cd9b6f54}&quot;">​</a></h3><p>Reverse proxy adalah konsep yang sangat penting dalam arsitektur jaringan modern, terutama untuk menangani beban lalu lintas yang tinggi, meningkatkan keamanan, dan menyembunyikan detail server backend dari klien. Dengan cara kerja yang mirip pelayan di restoran, reverse proxy memastikan bahwa klien tidak perlu tahu server mana yang menangani permintaan mereka, yang memberikan fleksibilitas, keamanan, dan manajemen lalu lintas yang lebih baik.</p><h3 id="15809095-dc41-8050-884c-c36d33f510ec" tabindex="-1"><strong>1. Menyiapkan Aplikasi Backend (Contoh: Django)</strong> <a class="header-anchor" href="#15809095-dc41-8050-884c-c36d33f510ec" aria-label="Permalink to &quot;**1. Menyiapkan Aplikasi Backend (Contoh: Django)** {#15809095-dc41-8050-884c-c36d33f510ec}&quot;">​</a></h3><ol><li><p><strong>Jalankan aplikasi Django di port tertentu</strong> (misalnya, <code>127.0.0.1:8000</code>):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>python manage.py runserver 127.0.0.1:8000</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Konfigurasi Nginx untuk meneruskan permintaan ke backend:</strong><br> Buat file konfigurasi di<br><code>/etc/nginx/sites-available/reverse-proxy</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://127.0.0.1:8000;</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Aktifkan konfigurasi:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo ln -s /etc/nginx/sites-available/reverse-proxy /etc/nginx/sites-enabled/</span></span>
<span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Uji koneksi:</strong></p><p>Buka browser dan akses <code>http://example.com</code>.</p><p>Hasilnya, Nginx akan meneruskan permintaan ke aplikasi Django di <code>127.0.0.1:8000</code>.</p></li></ol><h3 id="15809095-dc41-80f4-af55-e0bee09607eb" tabindex="-1"><strong>2. Reverse Proxy untuk Aplikasi Node.js</strong> <a class="header-anchor" href="#15809095-dc41-80f4-af55-e0bee09607eb" aria-label="Permalink to &quot;**2. Reverse Proxy untuk Aplikasi Node.js** {#15809095-dc41-80f4-af55-e0bee09607eb}&quot;">​</a></h3><ol><li><p><strong>Jalankan aplikasi Node.js di port tertentu</strong> (misalnya, <code>127.0.0.1:3000</code>):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>node app.js</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Tambahkan konfigurasi di Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name node.example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://127.0.0.1:3000;</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li>Reload Nginx dan uji koneksi.</li></ol><hr><h2 id="15809095-dc41-80bc-a17b-fd0d6d109572" tabindex="-1"><strong>2. Load Balancing</strong> <a class="header-anchor" href="#15809095-dc41-80bc-a17b-fd0d6d109572" aria-label="Permalink to &quot;**2. Load Balancing** {#15809095-dc41-80bc-a17b-fd0d6d109572}&quot;">​</a></h2><p><strong>Load Balancing</strong> adalah teknik membagi lalu lintas antara beberapa server backend untuk meningkatkan performa dan keandalan.</p><h3 id="15809095-dc41-80f6-a89e-cbb8c3753584" tabindex="-1"><strong>A. Metode Load Balancing</strong> <a class="header-anchor" href="#15809095-dc41-80f6-a89e-cbb8c3753584" aria-label="Permalink to &quot;**A. Metode Load Balancing** {#15809095-dc41-80f6-a89e-cbb8c3753584}&quot;">​</a></h3><ol><li><p><strong>Round-Robin (Default):</strong></p><p>Permintaan dibagi rata ke setiap server backend.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upstream backend {</span></span>
<span class="line"><span>    server 127.0.0.1:8001;</span></span>
<span class="line"><span>    server 127.0.0.1:8002;</span></span>
<span class="line"><span>    server 127.0.0.1:8003;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Least Connections:</strong></p><p>Permintaan diarahkan ke server dengan jumlah koneksi aktif paling sedikit.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upstream backend {</span></span>
<span class="line"><span>    least_conn;</span></span>
<span class="line"><span>    server 127.0.0.1:8001;</span></span>
<span class="line"><span>    server 127.0.0.1:8002;</span></span>
<span class="line"><span>    server 127.0.0.1:8003;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>IP Hash:</strong></p><p>Permintaan dari klien yang sama selalu diarahkan ke server yang sama.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upstream backend {</span></span>
<span class="line"><span>    ip_hash;</span></span>
<span class="line"><span>    server 127.0.0.1:8001;</span></span>
<span class="line"><span>    server 127.0.0.1:8002;</span></span>
<span class="line"><span>    server 127.0.0.1:8003;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-8012-9282-c917808d0821" tabindex="-1"><strong>B. Contoh Penggunaan Load Balancer</strong> <a class="header-anchor" href="#15809095-dc41-8012-9282-c917808d0821" aria-label="Permalink to &quot;**B. Contoh Penggunaan Load Balancer** {#15809095-dc41-8012-9282-c917808d0821}&quot;">​</a></h3><ol><li><strong>Menyiapkan Server Backend:</strong><ul><li>Jalankan 3 instance aplikasi pada port berbeda (misalnya, <code>8001</code>, <code>8002</code>, <code>8003</code>).</li></ul></li></ol><ol start="2"><li><p><strong>Konfigurasi Load Balancer di Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upstream backend {</span></span>
<span class="line"><span>    least_conn; # Pilih metode balancing</span></span>
<span class="line"><span>    server 127.0.0.1:8001;</span></span>
<span class="line"><span>    server 127.0.0.1:8002;</span></span>
<span class="line"><span>    server 127.0.0.1:8003;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://backend;</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Tes dan Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Uji Balancing:</strong><br> Akses<br><code>http://example.com</code> dari beberapa browser atau gunakan alat seperti <code>curl</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -I http://example.com</span></span></code></pre></div><p>Perhatikan distribusi permintaan pada log setiap server backend.</p></li></ol><hr><h3 id="15809095-dc41-8094-b4b3-f566b812b2ff" tabindex="-1"><strong>Hasil Akhir</strong> <a class="header-anchor" href="#15809095-dc41-8094-b4b3-f566b812b2ff" aria-label="Permalink to &quot;**Hasil Akhir** {#15809095-dc41-8094-b4b3-f566b812b2ff}&quot;">​</a></h3><ol><li><strong>Reverse Proxy:</strong> Nginx meneruskan permintaan dari klien ke aplikasi backend seperti Django, Node.js, atau PHP.</li></ol><ol start="2"><li><strong>Load Balancer:</strong> Permintaan secara efisien dibagi ke beberapa backend menggunakan metode balancing yang sesuai (round-robin, least connections, IP hash).</li></ol><ol start="3"><li><p><strong>Pengujian:</strong> Pastikan semua pengaturan bekerja dengan mengamati distribusi permintaan ke server backend.</p></li><li><p>Logging dan Monitoring pada Nginx {#15809095-dc41-80aa-8a63-c1d25f657f56} ====================================</p></li></ol><p>Berikut adalah panduan praktis untuk <strong>Logging dan Monitoring pada Nginx</strong>, mencakup pengaturan log, analisis log, dan monitoring menggunakan berbagai alat.</p><hr><h2 id="15809095-dc41-8076-b016-e6a99592e5ba" tabindex="-1"><strong>1. Log</strong> <a class="header-anchor" href="#15809095-dc41-8076-b016-e6a99592e5ba" aria-label="Permalink to &quot;**1. Log** {#15809095-dc41-8076-b016-e6a99592e5ba}&quot;">​</a></h2><h3 id="15809095-dc41-801f-b728-eb80163df388" tabindex="-1"><strong>A. Menyesuaikan Log Akses dan Log Error</strong> <a class="header-anchor" href="#15809095-dc41-801f-b728-eb80163df388" aria-label="Permalink to &quot;**A. Menyesuaikan Log Akses dan Log Error** {#15809095-dc41-801f-b728-eb80163df388}&quot;">​</a></h3><ol><li><p><strong>Lokasi Default Log:</strong></p><ul><li>Akses log: <code>/var/log/nginx/access.log</code></li></ul><ul><li>Error log: <code>/var/log/nginx/error.log</code></li></ul></li></ol><ol start="2"><li><p><strong>Menyesuaikan Format Log Akses:</strong><br> Edit file<br><code>nginx.conf</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http {</span></span>
<span class="line"><span>    log_format custom_format &#39;$remote_addr - $remote_user [$time_local] &#39;</span></span>
<span class="line"><span>                             &#39;&quot;$request&quot; $status $body_bytes_sent &#39;</span></span>
<span class="line"><span>                             &#39;&quot;$http_referer&quot; &quot;$http_user_agent&quot;&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    access_log /var/log/nginx/custom_access.log custom_format;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Menyesuaikan Level Log Error:</strong><br> Edit file konfigurasi<br><code>nginx.conf</code> atau file <code>server block</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>error_log /var/log/nginx/custom_error.log warn;</span></span></code></pre></div><ul><li><p><strong>Level Log:</strong></p><ul><li><code>debug</code>: Untuk debug rinci (hanya saat troubleshooting).</li></ul><ul><li><code>info</code>: Informasi umum.</li></ul><ul><li><code>warn</code>: Peringatan.</li></ul><ul><li><code>error</code>: Hanya kesalahan kritis.</li></ul></li></ul></li></ol><ol start="4"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="5"><li><p><strong>Uji Hasil Log:</strong></p><ul><li><p>Buat permintaan HTTP untuk mengisi log:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl http://localhost</span></span></code></pre></div></li></ul><ul><li><p>Lihat isi log:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tail -f /var/log/nginx/custom_access.log</span></span>
<span class="line"><span>tail -f /var/log/nginx/custom_error.log</span></span></code></pre></div></li></ul></li></ol><hr><h3 id="15809095-dc41-801c-a5c1-cac6b4c9b81d" tabindex="-1"><strong>B. Menganalisis Log dengan GoAccess</strong> <a class="header-anchor" href="#15809095-dc41-801c-a5c1-cac6b4c9b81d" aria-label="Permalink to &quot;**B. Menganalisis Log dengan GoAccess** {#15809095-dc41-801c-a5c1-cac6b4c9b81d}&quot;">​</a></h3><ol><li><p><strong>Instal GoAccess:</strong></p><ul><li><p><strong>Ubuntu:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt update</span></span>
<span class="line"><span>sudo apt install goaccess -y</span></span></code></pre></div></li></ul><ul><li><p><strong>CentOS:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo yum install epel-release -y</span></span>
<span class="line"><span>sudo yum install goaccess -y</span></span></code></pre></div></li></ul></li></ol><ol start="2"><li><p><strong>Analisis Log Akses:</strong><br> Jalankan perintah:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>goaccess /var/log/nginx/access.log -o report.html --log-format=COMBINED</span></span></code></pre></div><ul><li>Hasilnya berupa file HTML (<code>report.html</code>) yang dapat dibuka di browser.</li></ul></li></ol><ol start="3"><li><p><strong>Live Monitoring dengan GoAccess:</strong><br> Jalankan GoAccess dalam mode real-time:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>goaccess /var/log/nginx/access.log --log-format=COMBINED --real-time-html -o /var/www/html/report.html</span></span></code></pre></div><p>Akses laporan di <code>http://&lt;server-ip&gt;/report.html</code>.</p></li></ol><hr><h2 id="15809095-dc41-8053-be9f-fada44ec59f8" tabindex="-1"><strong>2. Monitoring</strong> <a class="header-anchor" href="#15809095-dc41-8053-be9f-fada44ec59f8" aria-label="Permalink to &quot;**2. Monitoring** {#15809095-dc41-8053-be9f-fada44ec59f8}&quot;">​</a></h2><h3 id="15809095-dc41-8081-ad0c-e0c16045e17b" tabindex="-1"><strong>A. Menggunakan Modul Status Nginx</strong> <a class="header-anchor" href="#15809095-dc41-8081-ad0c-e0c16045e17b" aria-label="Permalink to &quot;**A. Menggunakan Modul Status Nginx** {#15809095-dc41-8081-ad0c-e0c16045e17b}&quot;">​</a></h3><ol><li><p><strong>Aktifkan Modul Status:</strong><br> Edit file konfigurasi Nginx (<br><code>nginx.conf</code> atau <code>server block</code>):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 8080;</span></span>
<span class="line"><span>    server_name localhost;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location /nginx_status {</span></span>
<span class="line"><span>        stub_status;</span></span>
<span class="line"><span>        allow 127.0.0.1;  # Hanya izinkan akses lokal</span></span>
<span class="line"><span>        deny all;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Akses Status:</strong><br> Jalankan perintah:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl http://127.0.0.1:8080/nginx_status</span></span></code></pre></div><p>Output:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Active connections: 2</span></span>
<span class="line"><span>server accepts handled requests</span></span>
<span class="line"><span> 100 100 200</span></span>
<span class="line"><span>Reading: 0 Writing: 1 Waiting: 1</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-807f-92df-fe8563f7c02f" tabindex="-1"><strong>B. Integrasi dengan Prometheus dan Grafana</strong> <a class="header-anchor" href="#15809095-dc41-807f-92df-fe8563f7c02f" aria-label="Permalink to &quot;**B. Integrasi dengan Prometheus dan Grafana** {#15809095-dc41-807f-92df-fe8563f7c02f}&quot;">​</a></h3><ol><li><p><strong>Instal Exporter Nginx untuk Prometheus:</strong></p><ul><li><p>Unduh Nginx Exporter:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>wget https://github.com/nginxinc/nginx-prometheus-exporter/releases/download/v0.11.0/nginx-prometheus-exporter-0.11.0-linux-amd64.tar.gz</span></span></code></pre></div></li></ul><ul><li><p>Ekstrak dan jalankan:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tar -xvzf nginx-prometheus-exporter-*.tar.gz</span></span>
<span class="line"><span>./nginx-prometheus-exporter -nginx.scrape-uri http://127.0.0.1:8080/nginx_status</span></span></code></pre></div></li></ul></li></ol><ol start="2"><li><p><strong>Konfigurasi Prometheus:</strong><br> Tambahkan target di file<br><code>prometheus.yml</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrape_configs:</span></span>
<span class="line"><span>  - job_name: &#39;nginx&#39;</span></span>
<span class="line"><span>    static_configs:</span></span>
<span class="line"><span>      - targets: [&#39;localhost:9113&#39;]</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Instal Grafana dan Tambahkan Dashboard:</strong></p><ul><li>Tambahkan Prometheus sebagai data source.</li></ul><ul><li>Import dashboard Nginx dari <a href="https://grafana.com/grafana/dashboards/" target="_blank" rel="noreferrer">Grafana Labs</a>.</li></ul></li></ol><hr><h3 id="15809095-dc41-80e1-b058-c0676384bcd1" tabindex="-1"><strong>Hasil Akhir</strong> <a class="header-anchor" href="#15809095-dc41-80e1-b058-c0676384bcd1" aria-label="Permalink to &quot;**Hasil Akhir** {#15809095-dc41-80e1-b058-c0676384bcd1}&quot;">​</a></h3><ol><li><strong>Log:</strong> Anda dapat memonitor dan menyesuaikan log akses dan error Nginx sesuai kebutuhan, serta menganalisisnya dengan GoAccess.</li></ol><ol start="2"><li><p><strong>Monitoring:</strong> Status real-time Nginx dapat diakses dengan modul <code>stub_status</code> atau divisualisasikan melalui Prometheus dan Grafana untuk pengawasan yang lebih lengkap.</p></li><li><p>Lanjutan Nginx {#15809095-dc41-8086-aa36-f345f7013407} =================</p></li></ol><p>Berikut adalah penjelasan lengkap dan praktis untuk fitur lanjutan pada Nginx, meliputi FastCGI, WebSocket, HTTP/2, gRPC, serta pengaturan file upload dan download.</p><hr><h2 id="15809095-dc41-8047-bce7-fc513a4f7600" tabindex="-1"><strong>1. FastCGI dan PHP</strong> <a class="header-anchor" href="#15809095-dc41-8047-bce7-fc513a4f7600" aria-label="Permalink to &quot;**1. FastCGI dan PHP** {#15809095-dc41-8047-bce7-fc513a4f7600}&quot;">​</a></h2><h3 id="15809095-dc41-80c4-8ab9-e2b791853df2" tabindex="-1"><strong>A. Menghubungkan Nginx dengan PHP menggunakan FastCGI</strong> <a class="header-anchor" href="#15809095-dc41-80c4-8ab9-e2b791853df2" aria-label="Permalink to &quot;**A. Menghubungkan Nginx dengan PHP menggunakan FastCGI** {#15809095-dc41-80c4-8ab9-e2b791853df2}&quot;">​</a></h3><ol><li><p><strong>Instal PHP dan FastCGI Process Manager (FPM):</strong></p><ul><li><p><strong>Ubuntu:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt update</span></span>
<span class="line"><span>sudo apt install php-fpm -y</span></span></code></pre></div></li></ul><ul><li><p><strong>CentOS:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo yum install php-fpm -y</span></span></code></pre></div></li></ul></li></ol><ol start="2"><li><p><strong>Konfigurasi Nginx untuk PHP:</strong><br> Buat file konfigurasi:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root /var/www/html;</span></span>
<span class="line"><span>    index index.php index.html;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        try_files $uri $uri/ =404;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location ~ \.php$ {</span></span>
<span class="line"><span>        include fastcgi_params;</span></span>
<span class="line"><span>        fastcgi_pass 127.0.0.1:9000;</span></span>
<span class="line"><span>        fastcgi_index index.php;</span></span>
<span class="line"><span>        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Restart PHP-FPM dan Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl restart php-fpm</span></span>
<span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Uji PHP:</strong><br> Buat file<br><code>/var/www/html/info.php</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;?php</span></span>
<span class="line"><span>phpinfo();</span></span>
<span class="line"><span>?&gt;</span></span></code></pre></div><p>Akses <code>http://example.com/info.php</code> untuk memastikan PHP bekerja dengan baik.</p></li></ol><hr><h3 id="15809095-dc41-80fc-ba45-ed140454e0a6" tabindex="-1"><strong>B. Konfigurasi FastCGI Caching</strong> <a class="header-anchor" href="#15809095-dc41-80fc-ba45-ed140454e0a6" aria-label="Permalink to &quot;**B. Konfigurasi FastCGI Caching** {#15809095-dc41-80fc-ba45-ed140454e0a6}&quot;">​</a></h3><ol><li><p><strong>Aktifkan Cache Directory:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo mkdir /var/cache/nginx/fastcgi_cache</span></span>
<span class="line"><span>sudo chown -R www-data:www-data /var/cache/nginx/fastcgi_cache</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Tambahkan Konfigurasi Cache di Nginx:</strong><br> Tambahkan di blok<br><code>http</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fastcgi_cache_path /var/cache/nginx/fastcgi_cache levels=1:2 keys_zone=FASTCGI_CACHE:10m inactive=60m;</span></span>
<span class="line"><span>fastcgi_cache_key &quot;$scheme$request_method$host$request_uri&quot;;</span></span></code></pre></div><p>Di blok <code>location ~ \.php$</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fastcgi_cache FASTCGI_CACHE;</span></span>
<span class="line"><span>fastcgi_cache_valid 200 60m;</span></span>
<span class="line"><span>fastcgi_cache_bypass $http_cache_control;</span></span>
<span class="line"><span>add_header X-FastCGI-Cache $upstream_cache_status;</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Uji Cache:</strong><br> Periksa header respons:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -I http://example.com/info.php</span></span></code></pre></div></li></ol><hr><h2 id="15809095-dc41-80f3-a995-ed2bcf31dbd3" tabindex="-1"><strong>2. WebSocket</strong> <a class="header-anchor" href="#15809095-dc41-80f3-a995-ed2bcf31dbd3" aria-label="Permalink to &quot;**2. WebSocket** {#15809095-dc41-80f3-a995-ed2bcf31dbd3}&quot;">​</a></h2><ol><li><p><strong>Konfigurasi WebSocket di Nginx:</strong><br> Tambahkan di blok<br><code>server</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location /ws/ {</span></span>
<span class="line"><span>    proxy_pass http://127.0.0.1:8080; # Backend WebSocket</span></span>
<span class="line"><span>    proxy_http_version 1.1;</span></span>
<span class="line"><span>    proxy_set_header Upgrade $http_upgrade;</span></span>
<span class="line"><span>    proxy_set_header Connection &quot;upgrade&quot;;</span></span>
<span class="line"><span>    proxy_set_header Host $host;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Uji WebSocket:</strong><br> Jalankan backend WebSocket di<br><code>127.0.0.1:8080</code> dan gunakan alat seperti <code>wscat</code> untuk menguji:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>wscat -c ws://example.com/ws/</span></span></code></pre></div></li></ol><hr><h2 id="15809095-dc41-8052-a8a0-de298d4bc14b" tabindex="-1"><strong>3. HTTP/2 dan gRPC</strong> <a class="header-anchor" href="#15809095-dc41-8052-a8a0-de298d4bc14b" aria-label="Permalink to &quot;**3. HTTP/2 dan gRPC** {#15809095-dc41-8052-a8a0-de298d4bc14b}&quot;">​</a></h2><h3 id="15809095-dc41-802f-9700-df4854c04af0" tabindex="-1"><strong>A. Mengaktifkan HTTP/2</strong> <a class="header-anchor" href="#15809095-dc41-802f-9700-df4854c04af0" aria-label="Permalink to &quot;**A. Mengaktifkan HTTP/2** {#15809095-dc41-802f-9700-df4854c04af0}&quot;">​</a></h3><ol><li><p><strong>Aktifkan Modul HTTP/2 di Nginx:</strong><br> Tambahkan<br><code>http2</code> di blok <code>listen</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 443 ssl http2;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ssl_certificate /path/to/cert.pem;</span></span>
<span class="line"><span>    ssl_certificate_key /path/to/key.pem;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root /var/www/html;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Verifikasi HTTP/2:</strong><br> Gunakan<br><code>curl</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -I --http2 https://example.com</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-803d-a307-d23cd5d1054e" tabindex="-1"><strong>B. Dasar Penggunaan gRPC</strong> <a class="header-anchor" href="#15809095-dc41-803d-a307-d23cd5d1054e" aria-label="Permalink to &quot;**B. Dasar Penggunaan gRPC** {#15809095-dc41-803d-a307-d23cd5d1054e}&quot;">​</a></h3><ol><li><p><strong>Konfigurasi Nginx sebagai Proxy gRPC:</strong><br> Tambahkan di blok<br><code>server</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80 http2;</span></span>
<span class="line"><span>    server_name grpc.example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        grpc_pass grpc://127.0.0.1:50051;</span></span>
<span class="line"><span>        error_page 502 = /error502grpc;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location = /error502grpc {</span></span>
<span class="line"><span>        internal;</span></span>
<span class="line"><span>        default_type application/grpc;</span></span>
<span class="line"><span>        add_header grpc-status 14;</span></span>
<span class="line"><span>        return 204;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><strong>Uji gRPC:</strong><br> Jalankan server gRPC di<br><code>127.0.0.1:50051</code> dan gunakan alat pengujian seperti <code>grpcurl</code>.</li></ol><hr><h2 id="15809095-dc41-802d-ae7b-ee6acad81c46" tabindex="-1"><strong>4. File Upload dan Download</strong> <a class="header-anchor" href="#15809095-dc41-802d-ae7b-ee6acad81c46" aria-label="Permalink to &quot;**4. File Upload dan Download** {#15809095-dc41-802d-ae7b-ee6acad81c46}&quot;">​</a></h2><h3 id="15809095-dc41-8003-833b-db52b9afc2ca" tabindex="-1"><strong>A. Membatasi Ukuran File Upload</strong> <a class="header-anchor" href="#15809095-dc41-8003-833b-db52b9afc2ca" aria-label="Permalink to &quot;**A. Membatasi Ukuran File Upload** {#15809095-dc41-8003-833b-db52b9afc2ca}&quot;">​</a></h3><ol><li><p><strong>Tambahkan Konfigurasi di Nginx:</strong><br> Di dalam blok<br><code>http</code> atau <code>server</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>client_max_body_size 10M;</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><strong>Uji:</strong><br> Coba unggah file lebih besar dari 10MB. Anda akan menerima error<br><code>413 Request Entity Too Large</code>.</li></ol><hr><h3 id="15809095-dc41-8055-97a0-ca2f6defbbf6" tabindex="-1"><strong>B. Mengatur Rate Limiting untuk Download File</strong> <a class="header-anchor" href="#15809095-dc41-8055-97a0-ca2f6defbbf6" aria-label="Permalink to &quot;**B. Mengatur Rate Limiting untuk Download File** {#15809095-dc41-8055-97a0-ca2f6defbbf6}&quot;">​</a></h3><ol><li><p><strong>Aktifkan Modul Limit Rate:</strong><br> Tambahkan di blok<br><code>http</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>limit_rate_after 1m;</span></span>
<span class="line"><span>limit_rate 50k;</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Tambahkan di blok</strong> <code>server</code> <strong>atau</strong> <code>location</code><strong>:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>location /files/ {</span></span>
<span class="line"><span>    root /var/www/html;</span></span>
<span class="line"><span>    limit_rate 50k; # Batas 50 KB/s</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Reload Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><p><strong>Uji Rate Limiting:</strong><br> Unduh file besar dan perhatikan kecepatan unduhan:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -O http://example.com/files/largefile.zip</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-8083-bbca-d50c712a2d3f" tabindex="-1"><strong>Hasil Akhir</strong> <a class="header-anchor" href="#15809095-dc41-8083-bbca-d50c712a2d3f" aria-label="Permalink to &quot;**Hasil Akhir** {#15809095-dc41-8083-bbca-d50c712a2d3f}&quot;">​</a></h3><ol><li><strong>FastCGI:</strong> PHP dapat dijalankan dengan caching untuk performa lebih baik.</li></ol><ol start="2"><li><strong>WebSocket:</strong> Mendukung komunikasi real-time.</li></ol><ol start="3"><li><strong>HTTP/2 &amp; gRPC:</strong> Menyediakan protokol modern untuk pengiriman data lebih cepat.</li></ol><ol start="4"><li><p><strong>File Upload &amp; Download:</strong> Ukuran file dapat dibatasi, dan kecepatan unduhan dapat dikontrol.</p></li><li><p>Studi Kasus Nginx {#15809095-dc41-80ab-857a-d65271e05925} ====================</p></li></ol><p>Berikut adalah panduan detail untuk menyelesaikan <strong>studi kasus Nginx</strong> meliputi proyek praktis dan troubleshooting umum.</p><hr><h2 id="15809095-dc41-80af-9a18-c77d846b795e" tabindex="-1"><strong>1. Proyek Praktis</strong> <a class="header-anchor" href="#15809095-dc41-80af-9a18-c77d846b795e" aria-label="Permalink to &quot;**1. Proyek Praktis** {#15809095-dc41-80af-9a18-c77d846b795e}&quot;">​</a></h2><h3 id="15809095-dc41-8000-b670-c19670764a28" tabindex="-1"><strong>A. Deploy Aplikasi Django dengan Nginx sebagai Reverse Proxy</strong> <a class="header-anchor" href="#15809095-dc41-8000-b670-c19670764a28" aria-label="Permalink to &quot;**A. Deploy Aplikasi Django dengan Nginx sebagai Reverse Proxy** {#15809095-dc41-8000-b670-c19670764a28}&quot;">​</a></h3><ol><li><p><strong>Instalasi Gunicorn:</strong><br> Instal Gunicorn di lingkungan aplikasi Django:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pip install gunicorn</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Jalankan Gunicorn untuk Django:</strong><br> Di direktori proyek Django, jalankan:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gunicorn --workers 3 --bind 127.0.0.1:8000 myproject.wsgi</span></span></code></pre></div><ul><li><strong>myproject</strong> adalah nama aplikasi utama Django.</li></ul></li></ol><ol start="3"><li><p><strong>Konfigurasi Nginx sebagai Reverse Proxy:</strong><br> Buat file<br><code>/etc/nginx/sites-available/django</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://127.0.0.1:8000;</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Aktifkan konfigurasi:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo ln -s /etc/nginx/sites-available/django /etc/nginx/sites-enabled/</span></span>
<span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="4"><li><strong>Tes Deployment:</strong><br> Akses<br><code>http://example.com</code> untuk memastikan Django berjalan melalui Nginx.</li></ol><hr><h3 id="15809095-dc41-800c-8837-c17076921b02" tabindex="-1"><strong>B. Load Balancer untuk Beberapa Instance Node.js</strong> <a class="header-anchor" href="#15809095-dc41-800c-8837-c17076921b02" aria-label="Permalink to &quot;**B. Load Balancer untuk Beberapa Instance Node.js** {#15809095-dc41-800c-8837-c17076921b02}&quot;">​</a></h3><ol><li><p><strong>Jalankan Beberapa Server Node.js:</strong><br> Contoh:<br><code>app.js</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const http = require(&#39;http&#39;);</span></span>
<span class="line"><span>const port = process.argv[2] || 3000;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const server = http.createServer((req, res) =&gt; {</span></span>
<span class="line"><span>    res.end(`Server running on port ${port}`);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server.listen(port, () =&gt; {</span></span>
<span class="line"><span>    console.log(`Server started on port ${port}`);</span></span>
<span class="line"><span>});</span></span></code></pre></div><p>Jalankan dengan port berbeda:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>node app.js 3001 &amp;</span></span>
<span class="line"><span>node app.js 3002 &amp;</span></span>
<span class="line"><span>node app.js 3003 &amp;</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Konfigurasi Nginx sebagai Load Balancer:</strong><br> Tambahkan di<br><code>/etc/nginx/sites-available/loadbalancer</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upstream node_backend {</span></span>
<span class="line"><span>    server 127.0.0.1:3001;</span></span>
<span class="line"><span>    server 127.0.0.1:3002;</span></span>
<span class="line"><span>    server 127.0.0.1:3003;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://node_backend;</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Aktifkan konfigurasi:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo ln -s /etc/nginx/sites-available/loadbalancer /etc/nginx/sites-enabled/</span></span>
<span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><strong>Tes Load Balancer:</strong><br> Akses<br><code>http://example.com</code> dan lihat bahwa request dialihkan ke server Node.js secara bergantian.</li></ol><hr><h3 id="15809095-dc41-80ec-91ca-db27ca7ab051" tabindex="-1"><strong>C. Hosting Website Statis dengan HTTPS</strong> <a class="header-anchor" href="#15809095-dc41-80ec-91ca-db27ca7ab051" aria-label="Permalink to &quot;**C. Hosting Website Statis dengan HTTPS** {#15809095-dc41-80ec-91ca-db27ca7ab051}&quot;">​</a></h3><ol><li><strong>Struktur Direktori Website:</strong><br> Tempatkan file HTML di<br><code>/var/www/html/website</code>.</li></ol><ol start="2"><li><p><strong>Konfigurasi Nginx untuk Website Statis:</strong><br> Tambahkan di<br><code>/etc/nginx/sites-available/website</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80;</span></span>
<span class="line"><span>    server_name example.com;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root /var/www/html/website;</span></span>
<span class="line"><span>    index index.html;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        try_files $uri $uri/ =404;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Aktifkan konfigurasi:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo ln -s /etc/nginx/sites-available/website /etc/nginx/sites-enabled/</span></span>
<span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Pasang HTTPS dengan Let&#39;s Encrypt:</strong><br> Instal Certbot:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt install certbot python3-certbot-nginx -y</span></span></code></pre></div><p>Dapatkan sertifikat:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo certbot --nginx -d example.com</span></span></code></pre></div></li></ol><ol start="4"><li><strong>Tes HTTPS:</strong><br> Akses<br><code>https://example.com</code> dan pastikan sertifikat aktif.</li></ol><hr><h2 id="15809095-dc41-80ae-b643-eb7d12c67f70" tabindex="-1"><strong>2. Troubleshooting Umum</strong> <a class="header-anchor" href="#15809095-dc41-80ae-b643-eb7d12c67f70" aria-label="Permalink to &quot;**2. Troubleshooting Umum** {#15809095-dc41-80ae-b643-eb7d12c67f70}&quot;">​</a></h2><h3 id="15809095-dc41-80f0-8f18-eb8912a890c5" tabindex="-1"><strong>A. Error 404/403</strong> <a class="header-anchor" href="#15809095-dc41-80f0-8f18-eb8912a890c5" aria-label="Permalink to &quot;**A. Error 404/403** {#15809095-dc41-80f0-8f18-eb8912a890c5}&quot;">​</a></h3><ol><li><p><strong>Periksa Root Direktori:</strong><br> Pastikan direktori root yang diatur di konfigurasi Nginx benar dan file ada.\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ls -l /var/www/html</span></span></code></pre></div></li></ol><ol start="2"><li><p><strong>Periksa Izin File:</strong><br> Pastikan Nginx memiliki akses ke file:\</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo chown -R www-data:www-data /var/www/html</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Cek Konfigurasi Nginx:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-80ff-8ea6-c761d9d64009" tabindex="-1"><strong>B. Debugging Error Log Nginx</strong> <a class="header-anchor" href="#15809095-dc41-80ff-8ea6-c761d9d64009" aria-label="Permalink to &quot;**B. Debugging Error Log Nginx** {#15809095-dc41-80ff-8ea6-c761d9d64009}&quot;">​</a></h3><ol><li><p><strong>Lokasi Log:</strong></p><ul><li>Error log: <code>/var/log/nginx/error.log</code></li></ul><ul><li>Akses log: <code>/var/log/nginx/access.log</code></li></ul></li></ol><ol start="2"><li><p><strong>Tingkatkan Level Debug:</strong><br> Tambahkan di<br><code>nginx.conf</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>error_log /var/log/nginx/error.log debug;</span></span></code></pre></div></li></ol><ol start="3"><li><p><strong>Reload Nginx dan Lihat Log:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nginx -t</span></span>
<span class="line"><span>sudo systemctl reload nginx</span></span>
<span class="line"><span>tail -f /var/log/nginx/error.log</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-8037-b2fb-cc66a3c44d0d" tabindex="-1"><strong>C. Mengatasi Masalah Timeout</strong> <a class="header-anchor" href="#15809095-dc41-8037-b2fb-cc66a3c44d0d" aria-label="Permalink to &quot;**C. Mengatasi Masalah Timeout** {#15809095-dc41-8037-b2fb-cc66a3c44d0d}&quot;">​</a></h3><ol><li><p><strong>Periksa Timeout di Nginx:</strong><br> Tambahkan di konfigurasi<br><code>http</code> atau <code>server</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>proxy_connect_timeout 60s;</span></span>
<span class="line"><span>proxy_send_timeout 60s;</span></span>
<span class="line"><span>proxy_read_timeout 60s;</span></span></code></pre></div></li></ol><ol start="2"><li><strong>Periksa Backend:</strong><br> Pastikan backend aplikasi (Django, Node.js) berfungsi dengan benar.\</li></ol><ol start="3"><li><p><strong>Tes dengan Curl:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -I http://example.com</span></span></code></pre></div></li></ol><hr><h3 id="15809095-dc41-8055-98ca-ceb9895cd4a9" tabindex="-1"><strong>Hasil Akhir</strong> <a class="header-anchor" href="#15809095-dc41-8055-98ca-ceb9895cd4a9" aria-label="Permalink to &quot;**Hasil Akhir** {#15809095-dc41-8055-98ca-ceb9895cd4a9}&quot;">​</a></h3><ol><li><p><strong>Proyek Praktis:</strong></p><ul><li>Aplikasi Django berjalan melalui Nginx.</li></ul><ul><li>Load balancer berhasil mendistribusikan request ke backend Node.js.</li></ul><ul><li>Website statis berjalan dengan HTTPS.</li></ul></li></ol><ol start="2"><li><p><strong>Troubleshooting:</strong></p><ul><li>Error umum dapat diidentifikasi melalui log.</li></ul><ul><li>Masalah timeout dapat diatasi dengan pengaturan yang tepat.</li></ul></li></ol><p>Thank you to @ <a href="https://gravatar.com/werisuweri" target="_blank" rel="noreferrer">Gravita Hat | Gravatar</a></p></div><p class="sans" style="font-size:14px;padding-top:2em;">[]</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>
    <div class="flex items-center justify-center ">
      
      PT. Blueink ArtTech Labs | Copyright © 2025
    </div>
  </p><!----></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"basic_machine_learning_aljabar_linear.md\":\"CTaHEKrl\",\"basic_machine_learning_fundamental.md\":\"EJuFGtHY\",\"basic_machine_learning_index.md\":\"CQBOIuQd\",\"dasar_python_aljabar_linear.md\":\"L--kH0vq\",\"dasar_python_basic_numpy_array.md\":\"BiqpCNM0\",\"dasar_python_dask.md\":\"YOtRZFRX\",\"dasar_python_golang.md\":\"B98t72Rm\",\"dasar_python_index.md\":\"CMsxI70Y\",\"dasar_python_num.md\":\"DpZHu1qS\",\"dasar_python_numpy.md\":\"r9iV725U\",\"dasar_python_numpy_universal_function.md\":\"B-WqLXyA\",\"dasar_python_pandas.md\":\"C-DqMGuw\",\"dasar_python_praktik_golang.md\":\"Dsk8Vk_D\",\"dasar_python_type_data.md\":\"CMxI_wtg\",\"dfdf.md\":\"Cuf6MMet\",\"index.md\":\"WVd7w7ID\",\"markdown-examples.md\":\"Cjo2-OWr\",\"nginx_index.md\":\"B6TJ48rr\",\"tim.md\":\"COKVA2S2\",\"vue_index.md\":\"BsF4Tw_v\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"blueink\",\"description\":\"DevImpact\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"title\":\"\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Content\",\"link\":\"/dasar_python/\"},{\"text\":\"Basic Machine Learning\",\"link\":\"/basic_machine_learning/\"}],\"sidebar\":{\"/dasar_python/\":[{\"text\":\"Content\",\"items\":[{\"text\":\"Python\",\"link\":\"/dasar_python/\"},{\"text\":\"NumPy\",\"items\":[{\"text\":\"Numpy: Memahami Tipe Data\",\"link\":\"/dasar_python/type_data\"},{\"text\":\"NumPy Array\",\"link\":\"/dasar_python/basic_numpy_array\"},{\"text\":\"NumPy Universal Function\",\"link\":\"/dasar_python/numpy_universal_function\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Pandas\",\"items\":[{\"text\":\"Pandas\",\"link\":\"/dasar_python/pandas\"},{\"text\":\"Dask\",\"link\":\"/dasar_python/dask\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Matplotlib\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Seaborn\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Scipy\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Scikitlearn\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"PyTorch\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"XGBoost\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"LightGBM\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"TensorFlow\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Fast.ai\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Keras\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"NLTK\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Transformers\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Pillow\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Django\",\"items\":[],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Stack For Python Colab\",\"items\":[{\"text\":\"Go Language\",\"link\":\"/dasar_python/golang\"},{\"text\":\"Contoh Aplikasi Golang\",\"link\":\"/dasar_python/praktik_golang\"}],\"collapsible\":true,\"collapsed\":true}],\"collapsible\":true,\"collapsed\":false}],\"/basic_machine_learning/\":[{\"text\":\"Basic Machine Learning\",\"items\":[{\"text\":\"Umum\",\"link\":\"/basic_machine_learning/\"},{\"text\":\"Fundamental\",\"link\":\"/basic_machine_learning/fundamental\"},{\"text\":\"Aljabar Linear\",\"link\":\"/basic_machine_learning/aljabar_linear\"}]}],\"/vue/\":[{\"text\":\"Vue\",\"items\":[{\"text\":\"Vue Introduction\",\"link\":\"/vue/\"}]}],\"/nginx/\":[{\"text\":\"nginx\",\"items\":[{\"text\":\"Vue Introduction\",\"link\":\"/nginx/\"}]}]},\"sidebarDepth\":2,\"footer\":{\"message\":\"\\n    <div class=\\\"flex items-center justify-center \\\">\\n      \\n      PT. Blueink ArtTech Labs | Copyright © 2025\\n    </div>\\n  \"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>